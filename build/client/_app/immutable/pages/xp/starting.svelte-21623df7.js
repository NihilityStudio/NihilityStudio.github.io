import{S as G,i as L,s as H,l as t,a as P,r as J,m as l,n as c,c as F,h as r,u as K,T,p,b as U,J as a,E,Z as q,O as X,o as $,a6 as N}from"../../chunks/index-23b4510f.js";import{b as Z,o as Q}from"../../chunks/utils-1f7a3290.js";import{g as A,s as z}from"../../chunks/index-355ed6be.js";import{a as Y}from"../../chunks/index-5725e307.js";import{h as ee,S as se,n as ie,w as I,v as O,c as ne}from"../../chunks/store-21632576.js";import"../../chunks/_commonjsHelpers-cea7ac1a.js";import"../../chunks/index-6533b345.js";function ae(b){let n,o,s,u,y,g,_,C,h,M,w,k,m,v,i,x,d,e,W;return{c(){n=t("div"),o=t("div"),s=t("img"),y=P(),g=t("div"),_=t("div"),C=P(),h=t("div"),M=P(),w=t("div"),k=P(),m=t("div"),v=t("p"),i=J("Copyright \xA9 Microsoft Corporation"),x=P(),d=t("div"),e=t("img"),this.h()},l(D){n=l(D,"DIV",{class:!0});var f=c(n);o=l(f,"DIV",{class:!0});var j=c(o);s=l(j,"IMG",{src:!0,alt:!0,width:!0}),y=F(j),g=l(j,"DIV",{class:!0});var S=c(g);_=l(S,"DIV",{class:!0}),c(_).forEach(r),C=F(S),h=l(S,"DIV",{class:!0}),c(h).forEach(r),M=F(S),w=l(S,"DIV",{class:!0}),c(w).forEach(r),S.forEach(r),j.forEach(r),k=F(f),m=l(f,"DIV",{class:!0});var R=c(m);v=l(R,"P",{});var V=c(v);i=K(V,"Copyright \xA9 Microsoft Corporation"),V.forEach(r),R.forEach(r),x=F(f),d=l(f,"DIV",{class:!0});var B=c(d);e=l(B,"IMG",{src:!0,width:!0,alt:!0}),B.forEach(r),f.forEach(r),this.h()},h(){T(s.src,u="/images/xp_loading_logo.jpg")||p(s,"src",u),p(s,"alt",""),p(s,"width","400px"),p(_,"class","svelte-1ccx1ah"),p(h,"class","svelte-1ccx1ah"),p(w,"class","svelte-1ccx1ah"),p(g,"class","xp-loader svelte-1ccx1ah"),p(o,"class","absolute top-[50%] -translate-y-[50%] left-[50%] -translate-x-[50%] animate-fadein"),p(m,"class","absolute left-8 bottom-8 animate-fadein text-base font-sans"),T(e.src,W="/images/xp_loading_mslogo.jpg")||p(e,"src",W),p(e,"width","120px"),p(e,"alt",""),p(d,"class","absolute right-8 bottom-8 animate-fadein"),p(n,"class","absolute inset-0 bg-black overflow-hidden text-slate-100")},m(D,f){U(D,n,f),a(n,o),a(o,s),a(o,y),a(o,g),a(g,_),a(g,C),a(g,h),a(g,M),a(g,w),a(n,k),a(n,m),a(m,v),a(v,i),a(n,x),a(n,d),a(d,e)},p:E,i:E,o:E,d(D){D&&r(n)}}}function pe(){let b=["/html/foxit_reader/web/viewer.html","/html/jspaint/index.html","/html/koodo/index.html","/html/msword/index.html","/html/photon/app/index.html","/html/notepad/index.html"],n=document.querySelector("#iframe-preload");for(let o of b){let s=document.createElement("iframe");s.style.position="absolute",s.style.inset="0",s.src=o,s.onload=u=>{console.log("loaded ",o),u.target.remove()},n.appendChild(s)}}function oe(b,n,o){let s;q(b,I,i=>o(1,s=i));let u=X(),y=!1,g=["/files/blue_hill.jpg","/files/new_stories.mp3","/files/sunset.jpg","/files/symphony_9.mp3","/files/wallpapers/Ascent.jpg","/files/wallpapers/Autumn.jpg","/files/wallpapers/Azul.jpg","/files/wallpapers/Bliss.jpg","/files/wallpapers/Follow.jpg","/files/wallpapers/Friend.jpg","/files/wallpapers/Moonflower.jpg","/files/wallpapers/Radiance.jpg","/files/wallpapers/Redmoondesert.jpg","/files/wallpapers/Tulips.jpg","/files/wallpapers/Wind.jpg","/files/water_lily.jpg","/files/winter.jpg"],_=["/images/95/0.png","/images/ms.png","/images/radio_check.png","/images/xp/battery_cell.png","/images/xp/checkmark.png","/images/xp/copying.gif","/images/xp/crt_monitor.png","/images/xp/icons/876.png","/images/xp/icons/AccessibilityWizard.png","/images/xp/icons/AddressBook.png","/images/xp/icons/AdventureMiner.png","/images/xp/icons/AgeOfWar.png","/images/xp/icons/ApplicationWindow.png","/images/xp/icons/ArmyWarfare.png","/images/xp/icons/BAT.png","/images/xp/icons/BOOK.png","/images/xp/icons/Back.png","/images/xp/icons/BackupWizard.png","/images/xp/icons/BigFarm.png","/images/xp/icons/Bitmap.png","/images/xp/icons/Briefcase.png","/images/xp/icons/BubblePop.png","/images/xp/icons/CSS.png","/images/xp/icons/Calculator.png","/images/xp/icons/Charmap.png","/images/xp/icons/CommandPrompt.png","/images/xp/icons/ControlPanel.png","/images/xp/icons/CopyingConflict.png","/images/xp/icons/Critical.png","/images/xp/icons/CursedTreasure.png","/images/xp/icons/DLL.png","/images/xp/icons/DOC.png","/images/xp/icons/DayD.png","/images/xp/icons/Default.png","/images/xp/icons/DeleteConfirmation.png","/images/xp/icons/Desktop.png","/images/xp/icons/DiskCleanup.png","/images/xp/icons/DiskDefragmenter.png","/images/xp/icons/DisplayProperties.png","/images/xp/icons/DualForceIdle.png","/images/xp/icons/Email.png","/images/xp/icons/Empire.png","/images/xp/icons/Exit.png","/images/xp/icons/Explorer.png","/images/xp/icons/Favorites.png","/images/xp/icons/Fax.png","/images/xp/icons/FileandSettingsTransferWizard.png","/images/xp/icons/FlashPlayer.png","/images/xp/icons/FloppyDisk.png","/images/xp/icons/FolderClosed.png","/images/xp/icons/FolderView-Classic.png","/images/xp/icons/FolderView.png","/images/xp/icons/Font.png","/images/xp/icons/Forward.png","/images/xp/icons/FoxitReader.png","/images/xp/icons/GIF.png","/images/xp/icons/Go.png","/images/xp/icons/GrandPrix.png","/images/xp/icons/HelpandSupport.png","/images/xp/icons/HighwayRacer.png","/images/xp/icons/HyperTerminal.png","/images/xp/icons/IEHistory.png","/images/xp/icons/IEHome.png","/images/xp/icons/IERefresh.png","/images/xp/icons/IEStop.png","/images/xp/icons/Infiltrate.png","/images/xp/icons/Information.png","/images/xp/icons/InternetExplorer6.png","/images/xp/icons/InternetShortcut.png","/images/xp/icons/JPG.png","/images/xp/icons/Java.png","/images/xp/icons/JavaScript.png","/images/xp/icons/Keyboard.png","/images/xp/icons/Koodo.png","/images/xp/icons/LocalDisk.png","/images/xp/icons/Logout.png","/images/xp/icons/MPC.png","/images/xp/icons/MPC_audio.png","/images/xp/icons/MPC_video.png","/images/xp/icons/MSWord.png","/images/xp/icons/Magnifier.png","/images/xp/icons/Maximize.png","/images/xp/icons/MineCraft.png","/images/xp/icons/Minesweeper.png","/images/xp/icons/Minimize.png","/images/xp/icons/Mute.png","/images/xp/icons/MyComputer.png","/images/xp/icons/MyMusic.png","/images/xp/icons/MyNetworkPlaces.png","/images/xp/icons/MyPictures.png","/images/xp/icons/Narrator.png","/images/xp/icons/NetworkConnection.png","/images/xp/icons/NetworkConnections.png","/images/xp/icons/NetworkSetup.png","/images/xp/icons/NewFolder.png","/images/xp/icons/NewNetworkConnection.png","/images/xp/icons/Notepad.png","/images/xp/icons/On-ScreenKeyboard.png","/images/xp/icons/PDF.png","/images/xp/icons/Paint.png","/images/xp/icons/Photon.png","/images/xp/icons/Power.png","/images/xp/icons/Programs.png","/images/xp/icons/Properties.png","/images/xp/icons/Publishtoweb.png","/images/xp/icons/Python.png","/images/xp/icons/RAR.png","/images/xp/icons/RTF.png","/images/xp/icons/RecycleBinempty.png","/images/xp/icons/RecycleBinfull.png","/images/xp/icons/RemoteDesktop.png","/images/xp/icons/RemovableMedia.png","/images/xp/icons/Restart.png","/images/xp/icons/Restore.png","/images/xp/icons/Run.png","/images/xp/icons/SUB.png","/images/xp/icons/SWF.png","/images/xp/icons/SantaParkour.png","/images/xp/icons/ScheduledTasks.png","/images/xp/icons/Search.png","/images/xp/icons/SecurityCenter.png","/images/xp/icons/SecurityError.png","/images/xp/icons/Setup.png","/images/xp/icons/SharedFolder.png","/images/xp/icons/Shortcutoverlay.png","/images/xp/icons/Skydom.png","/images/xp/icons/Solitaire.png","/images/xp/icons/SpaceBattle.png","/images/xp/icons/Standby.png","/images/xp/icons/StartMenuPrograms.png","/images/xp/icons/StartMenuProgramsAlt.png","/images/xp/icons/StickWar.png","/images/xp/icons/Stop.png","/images/xp/icons/Synchronize.png","/images/xp/icons/SystemInformation.png","/images/xp/icons/SystemRestore.png","/images/xp/icons/TIFF.png","/images/xp/icons/TXT.png","/images/xp/icons/TeacherSimulator.png","/images/xp/icons/TourXP.png","/images/xp/icons/TrainMaster.png","/images/xp/icons/URL.png","/images/xp/icons/Up.png","/images/xp/icons/VBS.png","/images/xp/icons/Volume.png","/images/xp/icons/VolumeLevel.png","/images/xp/icons/Vortecspace.jpg","/images/xp/icons/WMV.png","/images/xp/icons/WindowsCatalog.png","/images/xp/icons/WindowsMediaPlayer9.png","/images/xp/icons/WindowsMessenger.png","/images/xp/icons/WindowsPictureandFaxViewer.png","/images/xp/icons/WindowsUpdate.png","/images/xp/icons/WirelessNetworkSetup.png","/images/xp/icons/Wizard.png","/images/xp/icons/Wordpad.png","/images/xp/icons/XML.png","/images/xp/icons/Zipfolder.png","/images/xp/icons/explorerproperties.png","/images/xp/icons/tile_close.png","/images/xp/icons/tile_maximize.png","/images/xp/icons/tile_minimize.png","/images/xp/icons/tile_restore.png","/images/xp/radio_check.png","/images/xp/start_btn_normal.png","/images/xp/tile_close.png","/images/xp_loading_logo.jpg","/images/xp_loading_mslogo.jpg","/images/xp_logo.png","/images/xp_logo_horizontal.png"],C=["/audio/xp_installing.mp3","/audio/xp_shutdown.mp3","/audio/xp_startup.mp3"],h=["/fonts/levi.ttf","/fonts/ms_sans_serif.ttf","/fonts/ms_sans_serif_bold.ttf","/fonts/trebuchet.ttf"],M=["/empty/empty.png","/empty/empty.txt"];$(async()=>{await w(),await m(),load_assets([...C,..._,...g,...h,...M],()=>{y=!0});let i=0;do if(await Z(5e3),i++,i>=2)break;while(!y);pe(),v(),console.log("after preload_context_menu"),Q()?u("load_page",{url:"./installation/95/installing.svelte"}):u("load_page",{url:"./xp/desktop.svelte"})});async function w(){let i=await A("hard_drive");i==null&&(i=(await Y({method:"get",url:"/json/hard_drive.json"})).data,await z("hard_drive",i)),k(i),console.log(i),ee.set(i)}function k(i){let x=new Date().getTime();for(let d of Object.keys(i)){let e=i[d];e.children==null&&(e.children=[...e.files,...e.folders],delete e.files,delete e.folders),e.date_created==null&&(e.date_created=x),e.date_modified==null&&(e.date_modified=x),e.sort_option==null&&(e.sort_option=se.NONE),e.sort_order==null&&(e.sort_order=ie.ASCENDING)}}async function m(){N(I,s=await A("wallpaper"),s),s==null&&(N(I,s=O,s),await z("wallpaper",O))}function v(){let i=["ProgramTile","Desktop","FSVoid","FSItem","RecycleBin"];for(let x of i)ne.set({x:-1e3,y:-1e3,type:x,originator:{}})}return[]}class de extends G{constructor(n){super(),L(this,n,oe,ae,H,{})}}export{de as default};
