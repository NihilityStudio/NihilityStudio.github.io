import{S as N,i as z,R as f,s as I,w as M,x as E,y as F,f as k,t as q,B as v,Z as S,l as _,m as h,n as p,h as d,T as R,p as c,q as W,b as A,J as B,Y as w}from"../../../chunks/index-23b4510f.js";import{W as C}from"../../../chunks/Window-5b3973f4.js";import{z as D,r as J}from"../../../chunks/store-21632576.js";import"../../../chunks/TitleBar-a60117f4.js";import"../../../chunks/utils-1f7a3290.js";import"../../../chunks/lodash-b0811ec1.js";import"../../../chunks/_commonjsHelpers-cea7ac1a.js";import"../../../chunks/index-355ed6be.js";import"../../../chunks/index-6533b345.js";function P(r){let e,t,a,s;return{c(){e=_("div"),t=_("iframe"),this.h()},l(n){e=h(n,"DIV",{slot:!0,class:!0,style:!0});var o=p(e);t=h(o,"IFRAME",{src:!0,class:!0,frameborder:!0});var l=p(t);l.forEach(d),o.forEach(d),this.h()},h(){var n;R(t.src,a="https://rxp-messenger.glitch.me/")||c(t,"src",a),c(t,"class",s="w-full h-full "+(((n=r[0])==null?void 0:n.z_index)==r[4]?"pointer-events-auto":"pointer-events-none")),c(t,"frameborder","0"),t.allowFullscreen=!0,c(e,"slot","content"),c(e,"class","absolute inset-0 flex flex-col"),W(e,"background-color","#E9F3F6")},m(n,o){A(n,e,o),B(e,t),r[8](t)},p(n,o){var l;o&17&&s!==(s="w-full h-full "+(((l=n[0])==null?void 0:l.z_index)==n[4]?"pointer-events-auto":"pointer-events-none"))&&c(t,"class",s)},d(n){n&&d(e),r[8](null)}}}function T(r){let e,t,a={options:r[2],on_click_close:r[1],$$slots:{content:[P]},$$scope:{ctx:r}};return e=new C({props:a}),r[9](e),{c(){M(e.$$.fragment)},l(s){E(e.$$.fragment,s)},m(s,n){F(e,s,n),t=!0},p(s,[n]){const o={};n&4&&(o.options=s[2]),n&4121&&(o.$$scope={dirty:n,ctx:s}),e.$set(o)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){r[9](null),v(e,s)}}}function V(r,e,t){let a;S(r,D,i=>t(4,a=i));let{id:s}=e,{window:n}=e,{self:o}=e,{parentNode:l}=e,u;async function g(){J.update(i=>i.filter(x=>x!=o)),o.$destroy()}let{options:m={title:"Internet Messenger",width:500,height:670,icon:"/images/xp/icons/MSNMessenger.png",id:s}}=e;function b(i){w[i?"unshift":"push"](()=>{u=i,t(3,u)})}function y(i){w[i?"unshift":"push"](()=>{n=i,t(0,n)})}return r.$$set=i=>{"id"in i&&t(5,s=i.id),"window"in i&&t(0,n=i.window),"self"in i&&t(6,o=i.self),"parentNode"in i&&t(7,l=i.parentNode),"options"in i&&t(2,m=i.options)},[n,g,m,u,a,s,o,l,b,y]}class U extends N{constructor(e){super(),z(this,e,V,T,I,{id:5,window:0,self:6,parentNode:7,destroy:1,options:2})}get id(){return this.$$.ctx[5]}set id(e){this.$$set({id:e}),f()}get window(){return this.$$.ctx[0]}set window(e){this.$$set({window:e}),f()}get self(){return this.$$.ctx[6]}set self(e){this.$$set({self:e}),f()}get parentNode(){return this.$$.ctx[7]}set parentNode(e){this.$$set({parentNode:e}),f()}get destroy(){return this.$$.ctx[1]}get options(){return this.$$.ctx[2]}set options(e){this.$$set({options:e}),f()}}export{U as default};
