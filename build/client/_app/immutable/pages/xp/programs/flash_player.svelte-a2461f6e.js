import{S as K,i as M,R as P,s as O,w as U,x as W,y as j,f as X,t as T,B,Z,o as z,l as g,a as q,m as w,n as b,c as C,h as d,p as _,b as Y,J as u,g as G,d as H,Y as L,r as I,u as N,K as Q,E as J}from"../../../chunks/index-23b4510f.js";import{W as $}from"../../../chunks/Window-5b3973f4.js";import{h as tt,r as et,a as st}from"../../../chunks/store-21632576.js";import{g as nt}from"../../../chunks/index-355ed6be.js";import{D as rt}from"../../../chunks/DumbProgress-04334b73.js";import{l as ot}from"../../../chunks/utils-1f7a3290.js";import"../../../chunks/TitleBar-a60117f4.js";import"../../../chunks/lodash-b0811ec1.js";import"../../../chunks/_commonjsHelpers-cea7ac1a.js";import"../../../chunks/index-6533b345.js";function S(i){let t,s,a;return s=new rt({props:{style:"width:150px;height:15px;"}}),{c(){t=g("div"),U(s.$$.fragment),this.h()},l(e){t=w(e,"DIV",{class:!0});var o=b(t);W(s.$$.fragment,o),o.forEach(d),this.h()},h(){_(t,"class","absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 text-slate-500 text-sm p-2 rounded font-mono")},m(e,o){Y(e,t,o),j(s,t,null),a=!0},i(e){a||(X(s.$$.fragment,e),a=!0)},o(e){T(s.$$.fragment,e),a=!1},d(e){e&&d(t),B(s)}}}function it(i){let t,s,a,e,o,f,l,r,c,h,D,m,V,E,R,A;return{c(){t=g("div"),s=g("p"),a=I(`You can run flash .swf games and animations on RebornXP. Thanks to 
                `),e=g("a"),o=I("Ruffle."),f=q(),l=g("p"),r=I("Drag and drop .swf files from your computer to RebornXP and double-click them to run."),c=q(),h=g("p"),D=I(`If you don't have a flash .swf file, check out this 
                `),m=g("a"),V=I("nostalgic archive"),E=I("."),this.h()},l(k){t=w(k,"DIV",{class:!0});var p=b(t);s=w(p,"P",{});var n=b(s);a=N(n,`You can run flash .swf games and animations on RebornXP. Thanks to 
                `),e=w(n,"A",{class:!0});var y=b(e);o=N(y,"Ruffle."),y.forEach(d),n.forEach(d),f=C(p),l=w(p,"P",{class:!0});var v=b(l);r=N(v,"Drag and drop .swf files from your computer to RebornXP and double-click them to run."),v.forEach(d),c=C(p),h=w(p,"P",{class:!0});var x=b(h);D=N(x,`If you don't have a flash .swf file, check out this 
                `),m=w(x,"A",{class:!0,href:!0,target:!0});var F=b(m);V=N(F,"nostalgic archive"),F.forEach(d),E=N(x,"."),x.forEach(d),p.forEach(d),this.h()},h(){_(e,"class","text-blue-600 cursor-pointer"),_(l,"class","mt-2"),_(m,"class","text-blue-600 cursor-pointer"),_(m,"href","https://archive.org/details/softwarelibrary_flash"),_(m,"target","_blank"),_(h,"class","mt-2"),_(t,"class","my-4 p-2 font-Trebuchet")},m(k,p){Y(k,t,p),u(t,s),u(s,a),u(s,e),u(e,o),u(t,f),u(t,l),u(l,r),u(t,c),u(t,h),u(h,D),u(h,m),u(m,V),u(h,E),R||(A=Q(e,"click",i[12]),R=!0)},p:J,d(k){k&&d(t),R=!1,A()}}}function lt(i){let t;return{c(){t=g("div"),this.h()},l(s){t=w(s,"DIV",{class:!0}),b(t).forEach(d),this.h()},h(){_(t,"class","absolute inset-0")},m(s,a){Y(s,t,a),i[11](t)},p:J,d(s){s&&d(t),i[11](null)}}}function at(i){let t,s,a,e=!i[5]&&S();function o(r,c){return r[1]?lt:it}let f=o(i),l=f(i);return{c(){t=g("div"),e&&e.c(),s=q(),l.c(),this.h()},l(r){t=w(r,"DIV",{slot:!0,class:!0});var c=b(t);e&&e.l(c),s=C(c),l.l(c),c.forEach(d),this.h()},h(){_(t,"slot","content"),_(t,"class","absolute inset-1 flex flex-col bg-xp-yellow-light overflow-hidden")},m(r,c){Y(r,t,c),e&&e.m(t,null),u(t,s),l.m(t,null),a=!0},p(r,c){r[5]?e&&(G(),T(e,1,1,()=>{e=null}),H()):e?c&32&&X(e,1):(e=S(),e.c(),X(e,1),e.m(t,s)),f===(f=o(r))&&l?l.p(r,c):(l.d(1),l=f(r),l&&(l.c(),l.m(t,null)))},i(r){a||(X(e),a=!0)},o(r){T(e),a=!1},d(r){r&&d(t),e&&e.d(),l.d()}}}function ct(i){let t,s,a={options:i[3],on_click_close:i[2],$$slots:{content:[at]},$$scope:{ctx:i}};return t=new $({props:a}),i[13](t),{c(){U(t.$$.fragment)},l(e){W(t.$$.fragment,e)},m(e,o){j(t,e,o),s=!0},p(e,[o]){const f={};o&8&&(f.options=e[3]),o&131122&&(f.$$scope={dirty:o,ctx:e}),t.$set(f)},i(e){s||(X(t.$$.fragment,e),s=!0)},o(e){T(t.$$.fragment,e),s=!1},d(e){i[13](null),B(t,e)}}}function ft(i,t,s){let a;Z(i,tt,n=>s(15,a=n));let{id:e}=t,{window:o}=t,{self:f}=t,{parentNode:l}=t,{fs_item:r}=t,{exec_path:c}=t,h,D=!1,m;z(async()=>{if(m=ot(),r!=null){const y=m.RufflePlayer.newest().createPlayer();h.appendChild(y),y.setAttribute("style","width:100%;height:100%;");let v=a[r.id],x=null;if(v.storage_type=="remote")x=v.url;else if(v.storage_type=="local"){let F=await nt(v.url);x=URL.createObjectURL(F)}y.load(x)}s(5,D=!0)});async function V(){et.update(n=>n.filter(y=>y!=f)),f.$destroy()}let{options:E={title:r==null?"Flash Player":r.name,min_width:300,min_height:200,width:600,height:400,icon:"/images/xp/icons/FlashPlayer.png",id:e,exec_path:c}}=t;function R(n){console.log(n),st.set({path:"./programs/internet_explorer.svelte",fs_item:{url:n}})}function A(n){L[n?"unshift":"push"](()=>{h=n,s(4,h)})}const k=()=>R("https://ruffle.rs/");function p(n){L[n?"unshift":"push"](()=>{o=n,s(0,o)})}return i.$$set=n=>{"id"in n&&s(7,e=n.id),"window"in n&&s(0,o=n.window),"self"in n&&s(8,f=n.self),"parentNode"in n&&s(9,l=n.parentNode),"fs_item"in n&&s(1,r=n.fs_item),"exec_path"in n&&s(10,c=n.exec_path),"options"in n&&s(3,E=n.options)},i.$$.update=()=>{i.$$.dirty&3&&r&&o&&o.update_title(r.name)},[o,r,V,E,h,D,R,e,f,l,c,A,k,p]}class xt extends K{constructor(t){super(),M(this,t,ft,ct,O,{id:7,window:0,self:8,parentNode:9,fs_item:1,exec_path:10,destroy:2,options:3})}get id(){return this.$$.ctx[7]}set id(t){this.$$set({id:t}),P()}get window(){return this.$$.ctx[0]}set window(t){this.$$set({window:t}),P()}get self(){return this.$$.ctx[8]}set self(t){this.$$set({self:t}),P()}get parentNode(){return this.$$.ctx[9]}set parentNode(t){this.$$set({parentNode:t}),P()}get fs_item(){return this.$$.ctx[1]}set fs_item(t){this.$$set({fs_item:t}),P()}get exec_path(){return this.$$.ctx[10]}set exec_path(t){this.$$set({exec_path:t}),P()}get destroy(){return this.$$.ctx[2]}get options(){return this.$$.ctx[3]}set options(t){this.$$set({options:t}),P()}}export{xt as default};
