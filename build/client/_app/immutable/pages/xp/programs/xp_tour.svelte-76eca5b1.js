import{S as F,i as I,R as d,s as j,w as z,x as D,y as L,f as P,t as T,B as V,o as W,l as _,a as X,m as h,n as b,h as w,c as C,T as M,p as f,q as y,b as O,J as p,Y as k}from"../../../chunks/index-23b4510f.js";import{W as R}from"../../../chunks/Window-5b3973f4.js";import{r as B}from"../../../chunks/store-21632576.js";import"../../../chunks/TitleBar-a60117f4.js";import"../../../chunks/utils-1f7a3290.js";import"../../../chunks/lodash-b0811ec1.js";import"../../../chunks/_commonjsHelpers-cea7ac1a.js";import"../../../chunks/index-355ed6be.js";import"../../../chunks/index-6533b345.js";function J(i){let e,t,c,n,o,a,u;return{c(){e=_("div"),t=_("video"),c=_("source"),a=X(),u=_("div"),this.h()},l(r){e=h(r,"DIV",{slot:!0,class:!0});var l=b(e);t=h(l,"VIDEO",{class:!0});var m=b(t);c=h(m,"SOURCE",{src:!0,type:!0}),m.forEach(w),a=C(l),u=h(l,"DIV",{class:!0});var g=b(u);g.forEach(w),l.forEach(w),this.h()},h(){M(c.src,n="https://www.bubbl.news/xptour.mp4")||f(c,"src",n),f(c,"type","video/mp4"),t.autoplay=!0,t.playsInline=!0,f(t,"class",o="absolute inset-0 "+(i[4],"object-cover")+" w-full h-full"),f(u,"class","absolute inset-0 border-l-4 border-r-4 border-white"),f(e,"slot","content"),f(e,"class","absolute inset-1 flex flex-col bg-xp-yellow"),y(e,"background",i[2].background,!1)},m(r,l){O(r,e,l),p(e,t),p(t,c),p(e,a),p(e,u),i[9](e)},p(r,l){l&16&&o!==(o="absolute inset-0 "+(r[4],"object-cover")+" w-full h-full")&&f(t,"class",o),l&4&&y(e,"background",r[2].background,!1)},d(r){r&&w(e),i[9](null)}}}function U(i){let e,t,c={options:i[2],on_click_close:i[1],on_click_maximize:i[10],$$slots:{content:[J]},$$scope:{ctx:i}};return e=new R({props:c}),i[11](e),{c(){z(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,o){L(e,n,o),t=!0},p(n,[o]){const a={};o&4&&(a.options=n[2]),o&8&&(a.on_click_maximize=n[10]),o&16412&&(a.$$scope={dirty:o,ctx:n}),e.$set(a)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){i[11](null),V(e,n)}}}function Y(i,e,t){let{id:c}=e,{window:n}=e,{self:o}=e,{parentNode:a}=e,{exec_path:u}=e,r,l=!0;W(()=>{r.requestFullscreen(),m()});function m(){document.removeEventListener("fullscreenchange",x),document.addEventListener("fullscreenchange",x)}function g(){B.update(s=>s.filter(q=>q!=o)),o.$destroy()}let{options:v={title:"Microsoft Windows XP Tour",min_width:960,min_height:540,width:960,height:570,icon:"/images/xp/icons/TourXP.png",resizable:!1,background:"#fff",id:c,exec_path:u}}=e;function x(){!document.fullscreenElement&&!document.webkitIsFullScreen&&!document.mozFullScreen&&!document.msFullscreenElement?t(4,l=!1):t(4,l=!0)}function E(s){k[s?"unshift":"push"](()=>{r=s,t(3,r)})}const N=()=>r.requestFullscreen();function S(s){k[s?"unshift":"push"](()=>{n=s,t(0,n)})}return i.$$set=s=>{"id"in s&&t(5,c=s.id),"window"in s&&t(0,n=s.window),"self"in s&&t(6,o=s.self),"parentNode"in s&&t(7,a=s.parentNode),"exec_path"in s&&t(8,u=s.exec_path),"options"in s&&t(2,v=s.options)},[n,g,v,r,l,c,o,a,u,E,N,S]}class ne extends F{constructor(e){super(),I(this,e,Y,U,j,{id:5,window:0,self:6,parentNode:7,exec_path:8,destroy:1,options:2})}get id(){return this.$$.ctx[5]}set id(e){this.$$set({id:e}),d()}get window(){return this.$$.ctx[0]}set window(e){this.$$set({window:e}),d()}get self(){return this.$$.ctx[6]}set self(e){this.$$set({self:e}),d()}get parentNode(){return this.$$.ctx[7]}set parentNode(e){this.$$set({parentNode:e}),d()}get exec_path(){return this.$$.ctx[8]}set exec_path(e){this.$$set({exec_path:e}),d()}get destroy(){return this.$$.ctx[1]}get options(){return this.$$.ctx[2]}set options(e){this.$$set({options:e}),d()}}export{ne as default};
