import{S as he,i as pe,R as j,s as _e,w as O,x as U,y as W,f as A,t as N,B as Y,Z as se,o as me,a2 as ae,l as g,a as B,r as fe,m as v,n as w,c as P,h as _,u as ue,p as u,b as F,J as o,a3 as ge,M as ve,Y as we,T as be,K as xe,v as ke,E as R,q as Z}from"../../../chunks/index-23b4510f.js";import{W as $e}from"../../../chunks/Window-5b3973f4.js";import{B as ne}from"../../../chunks/Button-b8e82496.js";import{T as ye}from"../../../chunks/Tab-aa415309.js";import{t as De,h as Ee,w as re,r as Ie}from"../../../chunks/store-21632576.js";import{g as Ve}from"../../../chunks/index-355ed6be.js";import{_ as ie}from"../../../chunks/lodash-b0811ec1.js";import"../../../chunks/TitleBar-a60117f4.js";import"../../../chunks/utils-1f7a3290.js";/* empty css                                                           */import"../../../chunks/index-6533b345.js";import"../../../chunks/_commonjsHelpers-cea7ac1a.js";function oe(t,e,l){const n=t.slice();return n[14]=e[l],n}function qe(t){return{c:R,l:R,m:R,p:R,d:R}}function Be(t){let e,l=`url(${t[17]})`;return{c(){e=g("div"),this.h()},l(n){e=v(n,"DIV",{class:!0,style:!0});var s=w(e);s.forEach(_),this.h()},h(){u(e,"class","absolute bg-cover"),Z(e,"inset","10px 10px 30px 10px"),Z(e,"background-image",l,!1)},m(n,s){F(n,e,s)},p(n,s){s&8&&l!==(l=`url(${n[17]})`)&&Z(e,"background-image",l,!1)},d(n){n&&_(e)}}}function Pe(t){let e;return{c(){e=g("div"),this.h()},l(l){e=v(l,"DIV",{class:!0,style:!0});var n=w(e);n.forEach(_),this.h()},h(){u(e,"class","absolute bg-cover"),Z(e,"inset","10px 10px 30px 10px")},m(l,n){F(l,e,n)},p:R,d(l){l&&_(e)}}}function ce(t){let e,l,n,s,i,c=t[4][t[14]].basename+"",d,b,$,y,V;function E(){return t[11](t[14])}return{c(){e=g("div"),l=g("img"),s=B(),i=g("p"),d=fe(c),$=B(),this.h()},l(h){e=v(h,"DIV",{class:!0});var p=w(e);l=v(p,"IMG",{src:!0,class:!0,alt:!0}),s=P(p),i=v(p,"P",{class:!0});var q=w(i);d=ue(q,c),q.forEach(_),$=P(p),p.forEach(_),this.h()},h(){be(l.src,n="/images/xp/icons/JPG.png")||u(l,"src",n),u(l,"class","w-[20px] h-[20px] shrink-0"),u(l,"alt",""),u(i,"class",b="leading-[20px] ml-1 px-1 grow-0 line-clamp-1 "+(ie.isEqual(t[3],t[14])?"bg-blue-600 text-slate-50":"")),u(e,"class","w-full flex flex-row")},m(h,p){F(h,e,p),o(e,l),o(e,s),o(e,i),o(i,d),o(e,$),y||(V=xe(e,"click",E),y=!0)},p(h,p){t=h,p&16&&c!==(c=t[4][t[14]].basename+"")&&ke(d,c),p&8&&b!==(b="leading-[20px] ml-1 px-1 grow-0 line-clamp-1 "+(ie.isEqual(t[3],t[14])?"bg-blue-600 text-slate-50":""))&&u(i,"class",b)},d(h){h&&_(e),y=!1,V()}}}function ze(t){let e,l,n,s,i,c,d,b,$,y,V,E,h,p,q,S,a,D,I,z,H,C,G;l=new ye({props:{size:"sm",items:["Desktop"],selected:"Desktop"}});let x={ctx:t,current:null,token:null,hasCatch:!1,pending:Pe,then:Be,catch:qe,value:17};ae(b=t[7](t[3]),x);let M=t[5],m=[];for(let r=0;r<M.length;r+=1)m[r]=ce(oe(t,M,r));return z=new ne({props:{title:"OK",style:"margin-right:10px;",on_click:t[6]}}),C=new ne({props:{title:"Cancel",on_click:t[1]}}),{c(){e=g("div"),O(l.$$.fragment),n=B(),s=g("div"),i=g("div"),c=g("div"),d=g("div"),x.block.c(),$=B(),y=g("div"),V=B(),E=g("div"),h=g("div"),p=g("span"),q=fe("Background"),S=B(),a=g("div");for(let r=0;r<m.length;r+=1)m[r].c();D=B(),I=g("div"),O(z.$$.fragment),H=B(),O(C.$$.fragment),this.h()},l(r){e=v(r,"DIV",{slot:!0,class:!0});var k=w(e);U(l.$$.fragment,k),n=P(k),s=v(k,"DIV",{class:!0});var f=w(s);i=v(f,"DIV",{class:!0});var T=w(i);c=v(T,"DIV",{class:!0});var X=w(c);d=v(X,"DIV",{class:!0});var J=w(d);x.block.l(J),$=P(J),y=v(J,"DIV",{class:!0});var de=w(y);de.forEach(_),J.forEach(_),X.forEach(_),T.forEach(_),V=P(f),E=v(f,"DIV",{class:!0});var ee=w(E);h=v(ee,"DIV",{class:!0});var K=w(h);p=v(K,"SPAN",{class:!0});var te=w(p);q=ue(te,"Background"),te.forEach(_),S=P(K),a=v(K,"DIV",{class:!0});var le=w(a);for(let Q=0;Q<m.length;Q+=1)m[Q].l(le);le.forEach(_),K.forEach(_),ee.forEach(_),f.forEach(_),D=P(k),I=v(k,"DIV",{class:!0});var L=w(I);U(z.$$.fragment,L),H=P(L),U(C.$$.fragment,L),L.forEach(_),k.forEach(_),this.h()},h(){u(y,"class","absolute inset-0 bg-cover bg-[url(/images/xp/crt_monitor.png)]"),u(d,"class","w-full h-full relative"),u(c,"class","absolute top-8 left-1/2 -translate-x-1/2 w-[190px] h-[190px]"),u(i,"class","h-[250px] shrink-0 relative"),u(p,"class","my-1"),u(a,"class","grow p-1 overflow-y-scroll overflow-x-hidden border border-slate-700"),u(h,"class","grow flex flex-col overflow-hidden"),u(E,"class","grow flex flex-row text-[13px] p-2 text-slate-800 overflow-hidden"),u(s,"class","w-full grow bg-[#fafaf9] shadow-sm -mt-[1px] flex flex-col overflow-hidden"),u(I,"class","shrink-0 flex flex-row justify-end items-center px-1 pt-2"),u(e,"slot","content"),u(e,"class","absolute inset-1 p-2 pb-1 flex flex-col bg-xp-yellow overflow-hidden")},m(r,k){F(r,e,k),W(l,e,null),o(e,n),o(e,s),o(s,i),o(i,c),o(c,d),x.block.m(d,x.anchor=null),x.mount=()=>d,x.anchor=$,o(d,$),o(d,y),o(s,V),o(s,E),o(E,h),o(h,p),o(p,q),o(h,S),o(h,a);for(let f=0;f<m.length;f+=1)m[f].m(a,null);o(e,D),o(e,I),W(z,I,null),o(I,H),W(C,I,null),G=!0},p(r,k){if(t=r,x.ctx=t,k&8&&b!==(b=t[7](t[3]))&&ae(b,x)||ge(x,t,k),k&56){M=t[5];let f;for(f=0;f<M.length;f+=1){const T=oe(t,M,f);m[f]?m[f].p(T,k):(m[f]=ce(T),m[f].c(),m[f].m(a,null))}for(;f<m.length;f+=1)m[f].d(1);m.length=M.length}},i(r){G||(A(l.$$.fragment,r),A(z.$$.fragment,r),A(C.$$.fragment,r),G=!0)},o(r){N(l.$$.fragment,r),N(z.$$.fragment,r),N(C.$$.fragment,r),G=!1},d(r){r&&_(e),Y(l),x.block.d(),x.token=null,x=null,ve(m,r),Y(z),Y(C)}}}function Ce(t){let e,l,n={options:t[2],on_click_close:t[1],$$slots:{content:[ze]},$$scope:{ctx:t}};return e=new $e({props:n}),t[12](e),{c(){O(e.$$.fragment)},l(s){U(e.$$.fragment,s)},m(s,i){W(e,s,i),l=!0},p(s,[i]){const c={};i&4&&(c.options=s[2]),i&262168&&(c.$$scope={dirty:i,ctx:s}),e.$set(c)},i(s){l||(A(e.$$.fragment,s),l=!0)},o(s){N(e.$$.fragment,s),l=!1},d(s){t[12](null),Y(e,s)}}}function Me(t,e,l){let n,s;se(t,Ee,a=>l(4,n=a)),se(t,re,a=>l(13,s=a));let{id:i}=e,{window:c}=e,{self:d}=e,{exec_path:b}=e,$=s,y=n[De].children.filter(a=>n[a].type=="file");me(()=>{});function V(){Ie.update(a=>a.filter(D=>D!=d)),d.$destroy()}function E(){re.set($),V()}let{options:h={title:"Display Properties",min_width:400,min_height:570,width:400,height:570,icon:null,id:i,resizable:!1,maximize_btn:!1,minimize_btn:!1,exec_path:b}}=e;async function p(a){let D=n[a];if(console.log(D),D.storage_type=="remote")return D.url;if(D.storage_type=="local"){let I=await Ve(D.url);return URL.createObjectURL(I)}}const q=a=>l(3,$=a);function S(a){we[a?"unshift":"push"](()=>{c=a,l(0,c)})}return t.$$set=a=>{"id"in a&&l(8,i=a.id),"window"in a&&l(0,c=a.window),"self"in a&&l(9,d=a.self),"exec_path"in a&&l(10,b=a.exec_path),"options"in a&&l(2,h=a.options)},[c,V,h,$,n,y,E,p,i,d,b,q,S]}class Ne extends he{constructor(e){super(),pe(this,e,Me,Ce,_e,{id:8,window:0,self:9,exec_path:10,destroy:1,options:2})}get id(){return this.$$.ctx[8]}set id(e){this.$$set({id:e}),j()}get window(){return this.$$.ctx[0]}set window(e){this.$$set({window:e}),j()}get self(){return this.$$.ctx[9]}set self(e){this.$$set({self:e}),j()}get exec_path(){return this.$$.ctx[10]}set exec_path(e){this.$$set({exec_path:e}),j()}get destroy(){return this.$$.ctx[1]}get options(){return this.$$.ctx[2]}set options(e){this.$$set({options:e}),j()}}export{Ne as default};
