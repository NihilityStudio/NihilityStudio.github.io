import{S as Ie,i as Ce,P as J,s as Me,w as C,x as M,y as F,f as S,t as B,B as R,Y as Fe,o as Se,l as g,a as v,r as Be,m as d,n as b,c as $,h,u as Re,p,q as we,b as Pe,J as r,K as xe,_ as Te,W as ye}from"../../../chunks/index-70a5fc52.js";import{W as Ae}from"../../../chunks/Window-654de68f.js";import{i as ke,h as Ne,r as Le,l as De,a as Ue}from"../../../chunks/store-59feb90e.js";import{M as We}from"../../../chunks/Menu-84d20aec.js";import{R as ee}from"../../../chunks/RButton-0543564c.js";import qe from"./my_computer/viewer.svelte-2ce7fb85.js";import{t as Ge,a as je,b as ze}from"../../../chunks/finder-52261c48.js";import He from"./my_computer/sidebar.svelte-0b394610.js";import"../../../chunks/TitleBar-5f961d1e.js";import"../../../chunks/utils-1f7a3290.js";import"../../../chunks/lodash-b0811ec1.js";import"../../../chunks/_commonjsHelpers-cea7ac1a.js";import"../../../chunks/index-355ed6be.js";import"../../../chunks/index-f053a494.js";import"../../../chunks/tooltip-f551ec3c.js";import"../../../chunks/preload-helper-c28b9807.js";import"../../../chunks/fs-f48425c2.js";import"../../../chunks/dir_parser-92703b79.js";import"../../../chunks/Previewable-7057b01c.js";function Oe(s){let t,o,y,u,_,i,N,a,w,x,c,L,D,te,P,U,ne,k,se,T,ie,V,z,re,A,e,l,K,ce,pe,W,E,fe,q,le,ge,oe,de,G,j,he,Y,I,Q,_e,be;y=new We({props:{menu:s[11]}}),w=new ee({props:{icon:"/images/xp/icons/Back.png",title:"Back",on_click:s[14],expandable:!0,disabled:s[8]==0,tooltip_message:"Back to Previous"}}),c=new ee({props:{icon:"/images/xp/icons/Forward.png",on_click:s[15],expandable:!0,disabled:s[8]==s[7].length-1}}),D=new ee({props:{icon:"/images/xp/icons/Up.png",on_click:s[6],disabled:s[7][s[8]]==null}}),k=new ee({props:{icon:"/images/xp/icons/Search.png",title:"Search"}}),T=new ee({props:{icon:"/images/xp/icons/FolderView.png",title:"Folders"}}),A=new ee({props:{icon:"/images/xp/icons/FolderView-Classic.png",expandable:!0}}),j=new He({props:{my_computer_instance:s[2],id:s[7][s[8]]}});let Ve={self:s[1],id:s[7][s[8]],my_computer_instance:s[2]};return I=new qe({props:Ve}),s[19](I),I.$on("open",s[20]),{c(){t=g("div"),o=g("div"),C(y.$$.fragment),u=v(),_=g("div"),i=g("div"),N=v(),a=g("div"),C(w.$$.fragment),x=v(),C(c.$$.fragment),L=v(),C(D.$$.fragment),te=v(),P=g("div"),U=g("div"),ne=v(),C(k.$$.fragment),se=v(),C(T.$$.fragment),ie=v(),V=g("div"),z=g("div"),re=v(),C(A.$$.fragment),e=v(),l=g("div"),K=g("span"),ce=Be("Address"),pe=v(),W=g("div"),E=g("input"),fe=v(),q=g("div"),ge=v(),oe=g("div"),de=v(),G=g("div"),C(j.$$.fragment),he=v(),Y=g("div"),C(I.$$.fragment),this.h()},l(n){t=d(n,"DIV",{slot:!0,class:!0});var m=b(t);o=d(m,"DIV",{class:!0});var H=b(o);M(y.$$.fragment,H),u=$(H),_=d(H,"DIV",{class:!0});var ae=b(_);i=d(ae,"DIV",{class:!0}),b(i).forEach(h),ae.forEach(h),H.forEach(h),N=$(m),a=d(m,"DIV",{class:!0});var f=b(a);M(w.$$.fragment,f),x=$(f),M(c.$$.fragment,f),L=$(f),M(D.$$.fragment,f),te=$(f),P=d(f,"DIV",{class:!0});var X=b(P);U=d(X,"DIV",{class:!0}),b(U).forEach(h),X.forEach(h),ne=$(f),M(k.$$.fragment,f),se=$(f),M(T.$$.fragment,f),ie=$(f),V=d(f,"DIV",{class:!0});var O=b(V);z=d(O,"DIV",{class:!0}),b(z).forEach(h),O.forEach(h),re=$(f),M(A.$$.fragment,f),f.forEach(h),e=$(m),l=d(m,"DIV",{class:!0});var Z=b(l);K=d(Z,"SPAN",{class:!0});var ve=b(K);ce=Re(ve,"Address"),ve.forEach(h),pe=$(Z),W=d(Z,"DIV",{class:!0});var ue=b(W);E=d(ue,"INPUT",{class:!0,type:!0}),fe=$(ue),q=d(ue,"DIV",{class:!0});var Ee=b(q);Ee.forEach(h),ue.forEach(h),ge=$(Z),oe=d(Z,"DIV",{class:!0}),b(oe).forEach(h),Z.forEach(h),de=$(m),G=d(m,"DIV",{class:!0});var me=b(G);M(j.$$.fragment,me),he=$(me),Y=d(me,"DIV",{class:!0});var $e=b(Y);M(I.$$.fragment,$e),$e.forEach(h),me.forEach(h),m.forEach(h),this.h()},h(){p(i,"class","w-[20px] h-[20px] bg-[url(/images/ms.png)] bg-contain bg-center bg-no-repeat"),p(_,"class","w-[40px] h-full bg-slate-50 flex items-center justify-center"),p(o,"class","shrink-0 w-full border-b border-stone-300 flex flex-row items-center justify-between"),p(U,"class","w-full h-full border-l border-stone-300"),p(P,"class","w-[1px] h-full py-1"),p(z,"class","w-full h-full border-l border-stone-300"),p(V,"class","w-[1px] h-full py-1"),p(a,"class","shrink-0 flex flex-row items-center border-b border-stone-300"),p(K,"class","px-2 text-slate-800"),p(E,"class","absolute inset-0 pl-7 outline-none"),p(E,"type","text"),E.value=s[10],p(q,"class",le="w-[17px] h-[17px] absolute top-[4px] left-[4px] "+(s[7][s[8]]==null?"bg-[url(/images/xp/icons/MyComputer.png)]":"bg-[url(/images/xp/icons/FolderClosed.png)]")+" bg-contain"),we(q,"background-image",s[13](s[9][s[7][s[8]]]),!1),p(W,"class","grow h-[25px] relative"),p(oe,"class","w-[30px] h-[20px] bg-[url(/images/xp/icons/Go.png)] bg-center bg-contain bg-no-repeat"),p(l,"class","shrink-0 flex flex-row items-center border-b border-stone-300 text-[11px] items-center"),p(Y,"class","grow relative bg-blue-100"),p(G,"class","grow flex flex-row overflow-hidden"),p(t,"slot","content"),p(t,"class","absolute inset-0.5 flex flex-col bg-xp-yellow overflow-hidden")},m(n,m){Pe(n,t,m),r(t,o),F(y,o,null),r(o,u),r(o,_),r(_,i),r(t,N),r(t,a),F(w,a,null),r(a,x),F(c,a,null),r(a,L),F(D,a,null),r(a,te),r(a,P),r(P,U),r(a,ne),F(k,a,null),r(a,se),F(T,a,null),r(a,ie),r(a,V),r(V,z),r(a,re),F(A,a,null),r(t,e),r(t,l),r(l,K),r(K,ce),r(l,pe),r(l,W),r(W,E),r(W,fe),r(W,q),r(l,ge),r(l,oe),r(t,de),r(t,G),F(j,G,null),r(G,he),r(G,Y),F(I,Y,null),Q=!0,_e||(be=[xe(E,"click",Ke),xe(E,"keyup",s[12])],_e=!0)},p(n,m){const H={};m&256&&(H.disabled=n[8]==0),w.$set(H);const ae={};m&384&&(ae.disabled=n[8]==n[7].length-1),c.$set(ae);const f={};m&384&&(f.disabled=n[7][n[8]]==null),D.$set(f),(!Q||m&1024&&E.value!==n[10])&&(E.value=n[10]),(!Q||m&384&&le!==(le="w-[17px] h-[17px] absolute top-[4px] left-[4px] "+(n[7][n[8]]==null?"bg-[url(/images/xp/icons/MyComputer.png)]":"bg-[url(/images/xp/icons/FolderClosed.png)]")+" bg-contain"))&&p(q,"class",le),m&896&&we(q,"background-image",n[13](n[9][n[7][n[8]]]),!1);const X={};m&4&&(X.my_computer_instance=n[2]),m&384&&(X.id=n[7][n[8]]),j.$set(X);const O={};m&2&&(O.self=n[1]),m&384&&(O.id=n[7][n[8]]),m&4&&(O.my_computer_instance=n[2]),I.$set(O)},i(n){Q||(S(y.$$.fragment,n),S(w.$$.fragment,n),S(c.$$.fragment,n),S(D.$$.fragment,n),S(k.$$.fragment,n),S(T.$$.fragment,n),S(A.$$.fragment,n),S(j.$$.fragment,n),S(I.$$.fragment,n),Q=!0)},o(n){B(y.$$.fragment,n),B(w.$$.fragment,n),B(c.$$.fragment,n),B(D.$$.fragment,n),B(k.$$.fragment,n),B(T.$$.fragment,n),B(A.$$.fragment,n),B(j.$$.fragment,n),B(I.$$.fragment,n),Q=!1},d(n){n&&h(t),R(y),R(w),R(c),R(D),R(k),R(T),R(A),R(j),s[19](null),R(I),_e=!1,Te(be)}}}function Je(s){let t,o,y={options:s[4],on_click_close:s[3],$$slots:{content:[Oe]},$$scope:{ctx:s}};return t=new Ae({props:y}),s[21](t),{c(){C(t.$$.fragment)},l(u){M(t.$$.fragment,u)},m(u,_){F(t,u,_),o=!0},p(u,[_]){const i={};_&16&&(i.options=u[4]),_&8390534&&(i.$$scope={dirty:_,ctx:u}),t.$set(i)},i(u){o||(S(t.$$.fragment,u),o=!0)},o(u){B(t.$$.fragment,u),o=!1},d(u){s[21](null),R(t,u)}}}const Ke=s=>s.target.select();function Ye(s,t,o){let y,u;Fe(s,Ne,e=>o(9,u=e));let{id:_}=t,{window:i}=t,{self:N}=t,{exec_path:a}=t,{fs_item:w}=t,x=[w==null?void 0:w.id],c=0,{viewer:L}=t,D=[{name:"File",items:[[{name:"Create Shortcut",disabled:!0}],[{name:"Close",action:()=>{P()}}]]},{name:"View",items:[[{name:"Toolbars"},{name:"Status Bar"},{name:"Explorer Bar"}],[{name:"Thumbnails"},{name:"Tiles"},{name:"Icons"},{name:"List"},{name:"Details"}],[{name:"Choose Details..."},{name:"Go To"},{name:"Refresh"}]]},{name:"Favorites",items:[[{name:"Add to Favorites..."},{name:"Organize Favorites"}],[{name:"Links",icon:"/images/xp/icons/FolderClosed.png"},{name:"MSN.com",icon:"/images/xp/icons/URL.png"},{name:"Radio Station Guide",icon:"/images/xp/icons/URL.png"}]]},{name:"Tools",items:[[{name:"Map Network Drive..."},{name:"Disconnect Network Drive..."},{name:"Synchronize..."}],[{name:"Folder Options..."}]]},{name:"Help",items:[[{name:"Help and Support Center",action:()=>V("https://docs.win32.run")},{name:"Is this copy legal?",action:()=>V("https://docs.win32.run")}],[{name:"About Windows",action:()=>V("https://docs.win32.run")}]]}];Se(()=>{});function te(e){if(e.key=="Enter"){let l=je(e.target.value);l==null&&(l=ze(e.target.value)),console.log("found id",l),l&&(k(l),e.target.blur())}}function P(){Le.update(e=>e.filter(l=>l!=N)),N.$destroy()}let{options:U={title:"My Computer",min_width:500,min_height:400,width:700,height:500,icon:"/images/xp/icons/MyComputer.png",id:_,exec_path:a}}=t;function ne(e){return e==null?null:e.icon!=null?`url(${e.icon})`:De[e.ext]!=null?`url(/images/xp/icons/${De[e.ext]})`:e.id==ke?"url(/images/xp/icons/RecycleBinempty.png)":null}function k(e){e!=x[c]&&(console.log("open",e),console.log(u[e]),o(7,x=[...x.slice(0,c+1),e]),o(8,c=x.length-1))}function se(){o(8,c=Math.max(0,c-1))}function T(){o(8,c=Math.min(x.length-1,c+1))}function ie(){let e=u[x[c]].parent;k(e)}function V(e){Ue.set({path:"./programs/internet_explorer.svelte",fs_item:{url:e}})}function z(e){ye[e?"unshift":"push"](()=>{L=e,o(1,L)})}const re=e=>k(e.detail.id);function A(e){ye[e?"unshift":"push"](()=>{i=e,o(0,i)})}return s.$$set=e=>{"id"in e&&o(16,_=e.id),"window"in e&&o(0,i=e.window),"self"in e&&o(2,N=e.self),"exec_path"in e&&o(17,a=e.exec_path),"fs_item"in e&&o(18,w=e.fs_item),"viewer"in e&&o(1,L=e.viewer),"options"in e&&o(4,U=e.options)},s.$$.update=()=>{if(s.$$.dirty&384&&o(10,y=Ge(x[c])||"My Computer"),s.$$.dirty&897){let e=x[c];if(e==null)i==null||i.update_icon("/images/xp/icons/MyComputer.png"),i==null||i.update_title("My Computer");else if(e==ke)i==null||i.update_icon("/images/xp/icons/RecycleBinempty.png"),i==null||i.update_title("Recycle Bin");else{let l=u[e];l&&(l.icon?i==null||i.update_icon(l.icon):i==null||i.update_icon("/images/xp/icons/FolderClosed.png"),i==null||i.update_title(l.name))}}},[i,L,N,P,U,k,ie,x,c,u,y,D,te,ne,se,T,_,a,w,z,re,A]}class ht extends Ie{constructor(t){super(),Ce(this,t,Ye,Je,Me,{id:16,window:0,self:2,exec_path:17,fs_item:18,viewer:1,destroy:3,options:4,open:5,up:6})}get id(){return this.$$.ctx[16]}set id(t){this.$$set({id:t}),J()}get window(){return this.$$.ctx[0]}set window(t){this.$$set({window:t}),J()}get self(){return this.$$.ctx[2]}set self(t){this.$$set({self:t}),J()}get exec_path(){return this.$$.ctx[17]}set exec_path(t){this.$$set({exec_path:t}),J()}get fs_item(){return this.$$.ctx[18]}set fs_item(t){this.$$set({fs_item:t}),J()}get viewer(){return this.$$.ctx[1]}set viewer(t){this.$$set({viewer:t}),J()}get destroy(){return this.$$.ctx[3]}get options(){return this.$$.ctx[4]}set options(t){this.$$set({options:t}),J()}get open(){return this.$$.ctx[5]}get up(){return this.$$.ctx[6]}}export{ht as default};
