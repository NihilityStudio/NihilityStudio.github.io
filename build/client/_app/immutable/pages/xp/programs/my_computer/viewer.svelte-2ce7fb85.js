import{_ as Xe}from"../../../../chunks/preload-helper-c28b9807.js";import{S as Be,i as Je,P as _e,s as Ne,l as x,a as K,r as ee,m as D,n as E,h as b,c as T,u as te,p as k,a5 as pe,b as U,J as _,K as R,a1 as Ue,t as ie,d as we,f as se,L as ve,_ as oe,Y as ae,M as Ye,a7 as me,o as Ge,q as ye,g as Se,W as He,E as ce,e as De,a6 as Qe,a8 as Ze,v as $e,D as et,w as tt,x as lt,y as nt,B as rt}from"../../../../chunks/index-70a5fc52.js";import{o as it,g as Ee,u as st,z as ot,h as he,f as at,e as ct,c as ke,i as ut,a as ge,k as Ie,l as Ve,n as ft}from"../../../../chunks/store-59feb90e.js";import"../../../../chunks/finder-52261c48.js";import{f as dt,g as _t,h as pt}from"../../../../chunks/utils-1f7a3290.js";import{c as mt,a as ht,p as gt}from"../../../../chunks/fs-f48425c2.js";import{g as bt,s as vt}from"../../../../chunks/index-355ed6be.js";import"../../../../chunks/lodash-b0811ec1.js";import{D as kt,p as yt}from"../../../../chunks/dir_parser-92703b79.js";import{P as wt}from"../../../../chunks/Previewable-7057b01c.js";import"../../../../chunks/index-f053a494.js";import"../../../../chunks/_commonjsHelpers-cea7ac1a.js";function St(t,e){for(;t.length<e;)t="0"+t;return t}function N(t,e){var l,r,i;if(e.length===0)return t;for(l=0,i=e.length;l<i;l++)r=e.charCodeAt(l),t=(t<<5)-t+r,t|=0;return t<0?t*-2:t}function xt(t,e,l){return Object.keys(e).sort().reduce(r,t);function r(i,d){return je(i,e[d],d,l)}}function je(t,e,l,r){var i=N(N(N(t,l),Dt(e)),typeof e);if(e===null)return N(i,"null");if(e===void 0)return N(i,"undefined");if(typeof e=="object"||typeof e=="function"){if(r.indexOf(e)!==-1)return N(i,"[Circular]"+l);r.push(e);var d=xt(i,e,r);if(!("valueOf"in e)||typeof e.valueOf!="function")return d;try{return N(d,String(e.valueOf()))}catch(a){return N(d,"[valueOf exception]"+(a.stack||a.message))}}return N(i,e.toString())}function Dt(t){return Object.prototype.toString.call(t)}function Et(t){return St(je(0,t,"",[]).toString(16),8)}var It=Et;function Me(t,e,l){const r=t.slice();return r[41]=e[l],r}function Pe(t,e,l){const r=t.slice();return r[41]=e[l],r}function Oe(t,e,l){const r=t.slice();return r[41]=e[l],r}function Ae(t,e,l){const r=t.slice();return r[41]=e[l],r}function Vt(t){let e,l;return{c(){e=x("p"),l=ee("working on it..."),this.h()},l(r){e=D(r,"P",{class:!0});var i=E(e);l=te(i,"working on it..."),i.forEach(b),this.h()},h(){k(e,"class","text-center text-sm font-Trebuchet my-2 text-slate-500")},m(r,i){U(r,e,i),_(e,l)},p:ce,i:ce,o:ce,d(r){r&&b(e)}}}function Mt(t){let e=[],l=new Map,r,i,d=t[4];const a=s=>s[41].id;for(let s=0;s<d.length;s+=1){let u=Ae(t,d,s),S=a(u);l.set(S,e[s]=qe(S,u))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=De()},l(s){for(let u=0;u<e.length;u+=1)e[u].l(s);r=De()},m(s,u){for(let S=0;S<e.length;S+=1)e[S].m(s,u);U(s,r,u),i=!0},p(s,u){u[0]&39673&&(d=s[4],Se(),e=Qe(e,u,a,1,s,d,l,r.parentNode,Ze,qe,r,Ae),we())},i(s){if(!i){for(let u=0;u<d.length;u+=1)se(e[u]);i=!0}},o(s){for(let u=0;u<e.length;u+=1)ie(e[u]);i=!1},d(s){for(let u=0;u<e.length;u+=1)e[u].d(s);s&&b(r)}}}function Pt(t){let e,l;return{c(){e=x("div"),this.h()},l(r){e=D(r,"DIV",{class:!0});var i=E(e);i.forEach(b),this.h()},h(){k(e,"class",l="w-[50px] h-[50px] shrink-0 bg-contain bg-no-repeat bg-center "+(t[41].type=="folder"?"bg-[url(/images/xp/icons/FolderClosed.png)]":"bg-[url(/images/xp/icons/Default.png)]")),ye(e,"background-image",t[15](t[41]),!1)},m(r,i){U(r,e,i)},p(r,i){i[0]&16&&l!==(l="w-[50px] h-[50px] shrink-0 bg-contain bg-no-repeat bg-center "+(r[41].type=="folder"?"bg-[url(/images/xp/icons/FolderClosed.png)]":"bg-[url(/images/xp/icons/Default.png)]"))&&k(e,"class",l),i[0]&16&&ye(e,"background-image",r[15](r[41]),!1)},i:ce,o:ce,d(r){r&&b(e)}}}function Ot(t){let e,l;return e=new wt({props:{default_icon:t[15](t[41]),fs_id:t[41].id}}),{c(){tt(e.$$.fragment)},l(r){lt(e.$$.fragment,r)},m(r,i){nt(e,r,i),l=!0},p(r,i){const d={};i[0]&16&&(d.default_icon=r[15](r[41])),i[0]&16&&(d.fs_id=r[41].id),e.$set(d)},i(r){l||(se(e.$$.fragment,r),l=!0)},o(r){ie(e.$$.fragment,r),l=!1},d(r){rt(e,r)}}}function Ce(t){let e,l,r,i;function d(...s){return t[23](t[41],...s)}function a(...s){return t[24](t[41],...s)}return{c(){e=x("textarea"),this.h()},l(s){e=D(s,"TEXTAREA",{class:!0}),E(e).forEach(b),this.h()},h(){e.autofocus=!0,k(e,"class","absolute max-h-[40px] right-0 top-2 left-[50px] overflow-hidden outline-none border border-slate-900 text-[11px] font-MSSS z-50 resize-none"),e.value=l=t[41].name},m(s,u){U(s,e,u),e.focus(),r||(i=[R(e,"keydown",d),R(e,"blur",a)],r=!0)},p(s,u){t=s,u[0]&16&&l!==(l=t[41].name)&&(e.value=l)},d(s){s&&b(e),r=!1,oe(i)}}}function qe(t,e){let l,r,i,d,a,s,u=e[41].name+"",S,P,g,p=e[5].includes(e[41].id)&&e[0],h,m,L,O,J,A;const F=[Ot,Pt],I=[];function Y(y,w){return w[0]&16&&(r=null),r==null&&(r=!!ft.includes(y[41].ext)),r?0:1}i=Y(e,[-1,-1]),d=I[i]=F[i](e);let v=p&&Ce(e);function le(){return e[25](e[41])}function G(...y){return e[26](e[41],...y)}return{key:t,first:null,c(){l=x("div"),d.c(),a=K(),s=x("p"),S=ee(u),g=K(),v&&v.c(),h=K(),this.h()},l(y){l=D(y,"DIV",{"fs-id":!0,class:!0});var w=E(l);d.l(w),a=T(w),s=D(w,"P",{class:!0});var j=E(s);S=te(j,u),j.forEach(b),g=T(w),v&&v.l(w),h=T(w),w.forEach(b),this.h()},h(){var y;k(s,"class",P="px-1 mx-0.5 text-[11px] break-words line-clamp-2 text-ellipsis leading-tight "+(((y=e[5])==null?void 0:y.includes(e[41].id))&&e[3]?"bg-blue-600 text-slate-50":"")),k(l,"fs-id",m=e[41].id),k(l,"class",L="fs-item w-[150px] overflow-hidden m-2 inline-flex flex-row items-center font-MSSS relative "+(e[6].includes(e[41].id)&&e[7]=="cut"?"opacity-70":"")),this.first=l},m(y,w){U(y,l,w),I[i].m(l,null),_(l,a),_(l,s),_(s,S),_(l,g),v&&v.m(l,null),_(l,h),O=!0,J||(A=[R(l,"dblclick",le),R(l,"contextmenu",G)],J=!0)},p(y,w){var W;e=y;let j=i;i=Y(e,w),i===j?I[i].p(e,w):(Se(),ie(I[j],1,1,()=>{I[j]=null}),we(),d=I[i],d?d.p(e,w):(d=I[i]=F[i](e),d.c()),se(d,1),d.m(l,a)),(!O||w[0]&16)&&u!==(u=e[41].name+"")&&$e(S,u),(!O||w[0]&56&&P!==(P="px-1 mx-0.5 text-[11px] break-words line-clamp-2 text-ellipsis leading-tight "+(((W=e[5])==null?void 0:W.includes(e[41].id))&&e[3]?"bg-blue-600 text-slate-50":"")))&&k(s,"class",P),w[0]&49&&(p=e[5].includes(e[41].id)&&e[0]),p?v?v.p(e,w):(v=Ce(e),v.c(),v.m(l,h)):v&&(v.d(1),v=null),(!O||w[0]&16&&m!==(m=e[41].id))&&k(l,"fs-id",m),(!O||w[0]&208&&L!==(L="fs-item w-[150px] overflow-hidden m-2 inline-flex flex-row items-center font-MSSS relative "+(e[6].includes(e[41].id)&&e[7]=="cut"?"opacity-70":"")))&&k(l,"class",L)},i(y){O||(se(d),O=!0)},o(y){ie(d),O=!1},d(y){y&&b(l),I[i].d(),v&&v.d(),J=!1,oe(A)}}}function ze(t){let e,l,r,i,d=(t[41].display_name!=null?t[41].display_name:t[41].name)+"",a,s,u;function S(){return t[27](t[41])}function P(...g){return t[28](t[41],...g)}return{c(){e=x("div"),l=x("div"),r=K(),i=x("div"),a=ee(d),this.h()},l(g){e=D(g,"DIV",{class:!0});var p=E(e);l=D(p,"DIV",{class:!0});var h=E(l);h.forEach(b),r=T(p),i=D(p,"DIV",{class:!0});var m=E(i);a=te(m,d),m.forEach(b),p.forEach(b),this.h()},h(){k(l,"class","w-[50px] h-[50px] shrink-0 bg-[url(/images/xp/icons/FolderClosed.png)] bg-contain"),ye(l,"background-image",t[41].icon==null?"":`url(${t[41].icon})`,!1),k(i,"class","px-1 text-[11px] line-clamp-2 text-ellipsis leading-tight"),k(e,"class","w-[150px] ml-4 mr-8 overflow-hidden inline-flex flex-row items-center font-MSSS")},m(g,p){U(g,e,p),_(e,l),_(e,r),_(e,i),_(i,a),s||(u=[R(e,"dblclick",S),R(e,"contextmenu",P)],s=!0)},p(g,p){t=g},d(g){g&&b(e),s=!1,oe(u)}}}function Fe(t){let e,l,r,i,d=(t[41].display_name!=null?t[41].display_name:t[41].name)+"",a,s,u;function S(){return t[29](t[41])}function P(...g){return t[30](t[41],...g)}return{c(){e=x("div"),l=x("div"),r=K(),i=x("div"),a=ee(d),this.h()},l(g){e=D(g,"DIV",{class:!0});var p=E(e);l=D(p,"DIV",{class:!0});var h=E(l);h.forEach(b),r=T(p),i=D(p,"DIV",{class:!0});var m=E(i);a=te(m,d),m.forEach(b),p.forEach(b),this.h()},h(){k(l,"class","w-[50px] h-[50px] shrink-0 bg-[url(/images/xp/icons/LocalDisk.png)] bg-contain"),k(i,"class","px-1 text-[11px] line-clamp-2 text-ellipsis leading-tight"),k(e,"class","w-[150px] ml-4 mr-8 overflow-hidden inline-flex flex-row items-center font-MSSS")},m(g,p){U(g,e,p),_(e,l),_(e,r),_(e,i),_(i,a),s||(u=[R(e,"dblclick",S),R(e,"contextmenu",P)],s=!0)},p(g,p){t=g},d(g){g&&b(e),s=!1,oe(u)}}}function Ke(t){let e,l,r,i,d=(t[41].display_name!=null?t[41].display_name:t[41].name)+"",a,s,u,S;function P(){return t[31](t[41])}function g(...p){return t[32](t[41],...p)}return{c(){e=x("div"),l=x("div"),r=K(),i=x("div"),a=ee(d),s=K(),this.h()},l(p){e=D(p,"DIV",{class:!0});var h=E(e);l=D(h,"DIV",{class:!0});var m=E(l);m.forEach(b),r=T(h),i=D(h,"DIV",{class:!0});var L=E(i);a=te(L,d),L.forEach(b),s=T(h),h.forEach(b),this.h()},h(){k(l,"class","w-[50px] h-[50px] shrink-0 bg-[url(/images/xp/icons/RemovableMedia.png)] bg-contain"),k(i,"class","px-1 text-[11px] line-clamp-2 text-ellipsis leading-tight"),k(e,"class","w-[150px] ml-4 mr-8 overflow-hidden inline-flex flex-row items-center font-MSSS")},m(p,h){U(p,e,h),_(e,l),_(e,r),_(e,i),_(i,a),_(e,s),u||(S=[R(e,"dblclick",P),R(e,"contextmenu",g)],u=!0)},p(p,h){t=p},d(p){p&&b(e),u=!1,oe(S)}}}function At(t){let e,l,r,i,d,a,s,u,S,P,g,p,h,m,L,O,J,A,F,I,Y,v,le,G,y,w;const j=[Mt,Vt],W=[];function ue(f,V){return f[4]?0:1}r=ue(t),i=W[r]=j[r](t);let H=t[8].filter(Te),C=[];for(let f=0;f<H.length;f+=1)C[f]=ze(Oe(t,H,f));let Q=t[8].filter(Le),q=[];for(let f=0;f<Q.length;f+=1)q[f]=Fe(Pe(t,Q,f));let Z=t[8].filter(Re),z=[];for(let f=0;f<Z.length;f+=1)z[f]=Ke(Me(t,Z,f));return{c(){e=x("div"),l=x("div"),i.c(),d=K(),a=x("div"),s=x("p"),u=ee("Files Stored on This Computer"),S=K(),P=x("div"),g=K();for(let f=0;f<C.length;f+=1)C[f].c();p=K(),h=x("p"),m=ee("Hard Disk Drives"),L=K(),O=x("div"),J=K();for(let f=0;f<q.length;f+=1)q[f].c();A=K(),F=x("p"),I=ee("Devices with Removable Storage"),Y=K(),v=x("div"),le=K();for(let f=0;f<z.length;f+=1)z[f].c();this.h()},l(f){e=D(f,"DIV",{class:!0});var V=E(e);l=D(V,"DIV",{class:!0});var M=E(l);i.l(M),M.forEach(b),d=T(V),a=D(V,"DIV",{class:!0});var o=E(a);s=D(o,"P",{class:!0});var X=E(s);u=te(X,"Files Stored on This Computer"),X.forEach(b),S=T(o),P=D(o,"DIV",{class:!0}),E(P).forEach(b),g=T(o);for(let n=0;n<C.length;n+=1)C[n].l(o);p=T(o),h=D(o,"P",{class:!0});var fe=E(h);m=te(fe,"Hard Disk Drives"),fe.forEach(b),L=T(o),O=D(o,"DIV",{class:!0}),E(O).forEach(b),J=T(o);for(let n=0;n<q.length;n+=1)q[n].l(o);A=T(o),F=D(o,"P",{class:!0});var de=E(F);I=te(de,"Devices with Removable Storage"),de.forEach(b),Y=T(o),v=D(o,"DIV",{class:!0}),E(v).forEach(b),le=T(o);for(let n=0;n<z.length;n+=1)z[n].l(o);o.forEach(b),V.forEach(b),this.h()},h(){k(l,"class","w-full min-h-[90%]"),pe(l,"hidden",t[1]==null),k(s,"class","ml-2 mt-0.5 font-MSSS text-black text-[11px] font-bold"),k(P,"class","mb-4 w-[300px] h-[2px] bg-gradient-to-r from-blue-500 to-slate-50"),k(h,"class","ml-2 mt-4 font-MSSS text-black text-[11px] font-bold"),k(O,"class","mb-4 w-[300px] h-[2px] bg-gradient-to-r from-blue-500 to-slate-50"),k(F,"class","ml-2 mt-4 font-MSSS text-black text-[11px] font-bold"),k(v,"class","mb-4 w-[300px] h-[2px] bg-gradient-to-r from-blue-500 to-slate-50"),k(a,"class","w-full"),pe(a,"hidden",t[1]!=null),k(e,"class","absolute inset-0 overflow-auto bg-slate-50")},m(f,V){U(f,e,V),_(e,l),W[r].m(l,null),_(e,d),_(e,a),_(a,s),_(s,u),_(a,S),_(a,P),_(a,g);for(let M=0;M<C.length;M+=1)C[M].m(a,null);_(a,p),_(a,h),_(h,m),_(a,L),_(a,O),_(a,J);for(let M=0;M<q.length;M+=1)q[M].m(a,null);_(a,A),_(a,F),_(F,I),_(a,Y),_(a,v),_(a,le);for(let M=0;M<z.length;M+=1)z[M].m(a,null);t[33](e),G=!0,y||(w=[R(window,"keydown",t[13]),R(l,"contextmenu",Ue(t[10])),R(e,"drop",t[14]),R(e,"dragover",Ct)],y=!0)},p(f,V){let M=r;if(r=ue(f),r===M?W[r].p(f,V):(Se(),ie(W[M],1,1,()=>{W[M]=null}),we(),i=W[r],i?i.p(f,V):(i=W[r]=j[r](f),i.c()),se(i,1),i.m(l,null)),V[0]&2&&pe(l,"hidden",f[1]==null),V[0]&2816){H=f[8].filter(Te);let o;for(o=0;o<H.length;o+=1){const X=Oe(f,H,o);C[o]?C[o].p(X,V):(C[o]=ze(X),C[o].c(),C[o].m(a,p))}for(;o<C.length;o+=1)C[o].d(1);C.length=H.length}if(V[0]&2816){Q=f[8].filter(Le);let o;for(o=0;o<Q.length;o+=1){const X=Pe(f,Q,o);q[o]?q[o].p(X,V):(q[o]=Fe(X),q[o].c(),q[o].m(a,A))}for(;o<q.length;o+=1)q[o].d(1);q.length=Q.length}if(V[0]&2816){Z=f[8].filter(Re);let o;for(o=0;o<Z.length;o+=1){const X=Me(f,Z,o);z[o]?z[o].p(X,V):(z[o]=Ke(X),z[o].c(),z[o].m(a,null))}for(;o<z.length;o+=1)z[o].d(1);z.length=Z.length}V[0]&2&&pe(a,"hidden",f[1]!=null)},i(f){G||(se(i),G=!0)},o(f){ie(i),G=!1},d(f){f&&b(e),W[r].d(),ve(C,f),ve(q,f),ve(z,f),t[33](null),y=!1,oe(w)}}}function Ct(t){t.preventDefault()}const Te=t=>t.type=="folder",Le=t=>t.type=="drive",Re=t=>t.type=="removable_storage";function qt(t,e,l){let r,i,d,a,s,u,S,P;ae(t,ot,n=>l(21,a=n)),ae(t,he,n=>l(22,s=n)),ae(t,Ee,n=>l(5,u=n)),ae(t,at,n=>l(6,S=n)),ae(t,ct,n=>l(7,P=n));let g=Ye(),{self:p}=e,{my_computer_instance:h}=e,{id:m=null}=e,L=new Worker("/assets/sort.d295dba1.js",{type:"module"});L.onmessage=({data:n})=>{n.type=="sorted"&&n.id==m&&(console.log("update sorted_items",m),l(4,i=n.sorted_items))};let O,J=it.map(n=>s[n]),A,{renaming:F=!1}=e;const I=new kt({customStyles:!1,draggability:!1});I.subscribe("callback",n=>{me(Ee,u=n.items.map(c=>c.getAttribute("fs-id")).filter(c=>s[c]!=null),u),console.log(u.map(c=>s[c]))});const Y=new MutationObserver(n=>{I.setSettings({selectables:A?A.querySelectorAll(".fs-item"):[]})});Ge(async()=>{I.setSettings({selectables:A.querySelectorAll(".fs-item"),area:A}),Y.observe(A,{attributes:!1,childList:!0,characterData:!1,subtree:!0})});function v(n,c){let $=u.includes(c.id),B=A.querySelector(`.fs-item[fs-id="${c.id}"]`);!$&&B&&B.classList.contains("fs-item")&&(n.metaKey||n.ctrlKey?I.addSelection([B],!0):I.setSelection([B],!0)),ke.set(null);let ne={item:c};ne.my_computer_instance=h,ne.open=re=>{y(re)},ne.rename=()=>{w()},ke.set({x:n.x,y:n.y,type:"FSItem",originator:ne})}function le(n){ke.set({x:n.x,y:n.y,type:"FSVoid",originator:p})}function G(){console.log("clear_selection"),I.clearSelection(!0)}function y(n){G();let c=s[n];c.parent!=ut&&(c.type=="file"?(console.log(c),c.executable?ge.set({path:c.url,webapp:c.webapp}):Ie[c.ext]!=null?ge.set({path:Ie[c.ext][0].path,fs_item:c}):ge.set({path:"./programs/notepad.svelte",fs_item:c})):g("open",{id:n}))}function w(){l(0,F=!0),et().then(()=>{let n=u[0],c=document.querySelector(`div[fs-id="${n}"] textarea`),$=s[n].basename.length;c!=null&&c.setSelectionRange(0,$)})}function j(n,c){let $=dt(n.target.value),B=_t($),ne=pt($,B),re=ne;if(c.ext=B.toLowerCase(),re.trim()==""){l(0,F=!1);return}let We=[...s[c.parent].children.filter(be=>be!=c.id).map(be=>s[be].name)],xe=2;for(;We.includes(re+c.ext);)re=ne+" "+xe,xe++;me(he,s[c.id].basename=re,s),me(he,s[c.id].ext=c.ext,s),me(he,s[c.id].name=re+c.ext,s),l(0,F=!1)}function W(n){if(h.window.z_index==a&&!F&&m!=null&&(console.log("keyevent in my computer"),!!(n.ctrlKey||n.metaKey)))if(n.key=="c")mt();else if(n.key=="x")ht();else if(n.key=="v")gt(m);else if(n.key=="a"){let c=A.querySelectorAll(".fs-item");I.setSelection(c,!0)}else n.key=="ArrowUp"&&(n.preventDefault(),h.up())}async function ue(n){if(n.preventDefault(),m==null)return;let c=await yt(n);ge.set({path:"./programs/copier.svelte",copying_obj:c,target_folder_id:m})}function H(n){return n.icon!=null?`url(${n.icon})`:Ve[n.ext]!=null?`url(/images/xp/icons/${Ve[n.ext]})`:null}async function C(){if(!await bt("my_computer::read_transfer_guide")&&m!=null){const c=(await Xe(()=>import("../../../../chunks/Dialog-b1bab363.js"),["_app/immutable/chunks/Dialog-b1bab363.js","_app/immutable/assets/Button-bfb744c1.css","_app/immutable/chunks/index-70a5fc52.js","_app/immutable/chunks/lodash-b0811ec1.js","_app/immutable/chunks/_commonjsHelpers-cea7ac1a.js","_app/immutable/chunks/TitleBar-5f961d1e.js","_app/immutable/chunks/Button-e8580b92.js"])).default;let $=[{name:"OK",action:()=>B.destroy(),focus:!0}],B=new c({target:h.window.node_ref,props:{title:"File Transfer",message:"Drag & drop files from your computer to the blank space in a folder to transfer them into Windows XP",buttons:$,button_align:"center"}});B.self=B,vt("my_computer::read_transfer_guide",!0)}}const Q=(n,c)=>c.key=="Enter"&&j(c,n),q=(n,c)=>j(c,n),Z=n=>y(n.id),z=(n,c)=>v(c,n),f=n=>y(n.id),V=(n,c)=>v(c,n),M=n=>y(n.id),o=(n,c)=>v(c,n),X=n=>y(n.id),fe=(n,c)=>v(c,n);function de(n){He[n?"unshift":"push"](()=>{A=n,l(2,A)})}return t.$$set=n=>{"self"in n&&l(16,p=n.self),"my_computer_instance"in n&&l(17,h=n.my_computer_instance),"id"in n&&l(1,m=n.id),"renaming"in n&&l(0,F=n.renaming)},t.$$.update=()=>{if(t.$$.dirty[0]&4194306&&l(20,r=s[m]==null?[]:s[m].children.map(n=>s[n]).filter(n=>n!=null).filter(n=>!st.includes(n.id))),t.$$.dirty[0]&2&&l(4,i=null),t.$$.dirty[0]&6029314)if(s[m]){let n={id:m,items:r,sort_option:s[m].sort_option,sort_order:s[m].sort_order},c=It(n);console.log({hash:c}),c!=O&&(l(19,O=c),L.postMessage({type:"sort",hash:c,...n}))}else l(19,O=null);t.$$.dirty[0]&2228224&&l(3,d=a==(h==null?void 0:h.window.z_index)),t.$$.dirty[0]&4194306&&(m!=null&&s[m]==null&&g("open",{id:null}),C())},[F,m,A,d,i,u,S,P,J,v,le,y,j,W,ue,H,p,h,L,O,r,a,s,Q,q,Z,z,f,V,M,o,X,fe,de]}class Ut extends Be{constructor(e){super(),Je(this,e,qt,At,Ne,{self:16,my_computer_instance:17,id:1,renaming:0},null,[-1,-1])}get self(){return this.$$.ctx[16]}set self(e){this.$$set({self:e}),_e()}get my_computer_instance(){return this.$$.ctx[17]}set my_computer_instance(e){this.$$set({my_computer_instance:e}),_e()}get id(){return this.$$.ctx[1]}set id(e){this.$$set({id:e}),_e()}get renaming(){return this.$$.ctx[0]}set renaming(e){this.$$set({renaming:e}),_e()}}export{Ut as default};
