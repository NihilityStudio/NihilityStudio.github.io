import{S as we,i as $e,R as K,s as xe,w as L,x as q,y as G,f as R,t as W,B as H,Z as ke,o as ye,l as _,a as I,r as oe,m as g,n as b,c as V,h as u,u as fe,p as v,b as te,J as o,M as De,Y as Ee,E as Ie,q as ee}from"../../../chunks/index-23b4510f.js";import{W as Ve}from"../../../chunks/Window-5b3973f4.js";import{B as ae}from"../../../chunks/Button-b8e82496.js";import{T as ze}from"../../../chunks/Tab-aa415309.js";import{C as he}from"../../../chunks/CheckBox-c9f80fe8.js";import{h as Ce,r as Se,k as pe}from"../../../chunks/store-21632576.js";import{k as X,t as _e}from"../../../chunks/utils-1f7a3290.js";import{_ as ge}from"../../../chunks/lodash-b0811ec1.js";import{t as Be}from"../../../chunks/finder-bfb6260e.js";import"../../../chunks/TitleBar-a60117f4.js";import"../../../chunks/index-355ed6be.js";/* empty css                                                           */import"../../../chunks/index-6533b345.js";import"../../../chunks/_commonjsHelpers-cea7ac1a.js";function ve(a,e,t){const l=a.slice();return l[12]=e[t],l}function Me(a){let e;return{c(){e=_("div"),this.h()},l(t){e=g(t,"DIV",{class:!0});var l=b(e);l.forEach(u),this.h()},h(){v(e,"class","w-[50px] h-[50px] shrink-0 bg-[url(/images/xp/icons/FolderClosed.png)] bg-contain bg-no-repeat"),ee(e,"background-image",a[1].icon==null?"":`url(${a[1].icon})`,!1)},m(t,l){te(t,e,l)},p(t,l){l&2&&ee(e,"background-image",t[1].icon==null?"":`url(${t[1].icon})`,!1)},d(t){t&&u(e)}}}function Fe(a){let e;return{c(){e=_("div"),this.h()},l(t){e=g(t,"DIV",{class:!0});var l=b(e);l.forEach(u),this.h()},h(){v(e,"class","w-[50px] h-[50px] shrink-0 bg-[url(/images/xp/icons/Default.png)] bg-contain bg-no-repeat"),ee(e,"background-image",a[5](a[1]),!1)},m(t,l){te(t,e,l)},p(t,l){l&2&&ee(e,"background-image",t[5](t[1]),!1)},d(t){t&&u(e)}}}function be(a){let e,t,l=a[12][0]+"",s,f,c,r=a[12][1]+"",w;return{c(){e=_("div"),t=_("div"),s=oe(l),f=I(),c=_("div"),w=oe(r),this.h()},l(h){e=g(h,"DIV",{class:!0});var $=b(e);t=g($,"DIV",{class:!0});var z=b(t);s=fe(z,l),z.forEach(u),f=V($),c=g($,"DIV",{class:!0});var k=b(c);w=fe(k,r),k.forEach(u),$.forEach(u),this.h()},h(){v(t,"class","shrink-0 w-[70px]"),v(c,"class","grow ml-2 "+(a[12][0]=="Location"?"break-all":"break-words")),v(e,"class","flex flex-row px-2 my-3 text-[12px] text-slate-800")},m(h,$){te(h,e,$),o(e,t),o(t,s),o(e,f),o(e,c),o(c,w)},p:Ie,d(h){h&&u(e)}}}function Pe(a){let e,t,l,s,f,c,r,w,h,$,z,k,D,C,i,S,E,m,M,ie,F,ne,P,se,B,T,le,j,N;t=new ze({props:{size:"sm",items:["General","Sharing","Customize"],selected:"General"}});function ce(n,x){return n[1].type=="file"?Fe:Me}let O=ce(a),y=O(a),J=a[4],p=[];for(let n=0;n<J.length;n+=1)p[n]=be(ve(a,J,n));return M=new he({props:{checked:!1,checkmark:!1,label:"Read-only"}}),F=new he({props:{checked:!1,label:"Hidden",style:"margin-top:10px;"}}),P=new ae({props:{title:"Advanced..."}}),T=new ae({props:{title:"OK",style:"margin-right:10px;",on_click:a[2]}}),j=new ae({props:{title:"Cancel",on_click:a[2]}}),{c(){e=_("div"),L(t.$$.fragment),l=I(),s=_("div"),f=_("div"),c=_("div"),y.c(),r=I(),w=_("div"),h=_("input"),z=I();for(let n=0;n<p.length;n+=1)p[n].c();k=I(),D=_("div"),C=_("div"),i=oe("Attributes"),S=I(),E=_("div"),m=_("div"),L(M.$$.fragment),ie=I(),L(F.$$.fragment),ne=I(),L(P.$$.fragment),se=I(),B=_("div"),L(T.$$.fragment),le=I(),L(j.$$.fragment),this.h()},l(n){e=g(n,"DIV",{slot:!0,class:!0});var x=b(e);q(t.$$.fragment,x),l=V(x),s=g(x,"DIV",{class:!0});var d=b(s);f=g(d,"DIV",{class:!0});var A=b(f);c=g(A,"DIV",{class:!0});var de=b(c);y.l(de),de.forEach(u),r=V(A),w=g(A,"DIV",{class:!0});var ue=b(w);h=g(ue,"INPUT",{class:!0}),ue.forEach(u),A.forEach(u),z=V(d);for(let re=0;re<p.length;re+=1)p[re].l(d);k=V(d),D=g(d,"DIV",{class:!0});var U=b(D);C=g(U,"DIV",{class:!0});var me=b(C);i=fe(me,"Attributes"),me.forEach(u),S=V(U),E=g(U,"DIV",{class:!0});var Y=b(E);m=g(Y,"DIV",{});var Z=b(m);q(M.$$.fragment,Z),ie=V(Z),q(F.$$.fragment,Z),Z.forEach(u),ne=V(Y),q(P.$$.fragment,Y),Y.forEach(u),U.forEach(u),d.forEach(u),se=V(x),B=g(x,"DIV",{class:!0});var Q=b(B);q(T.$$.fragment,Q),le=V(Q),q(j.$$.fragment,Q),Q.forEach(u),x.forEach(u),this.h()},h(){v(c,"class","shrink-0 w-[70px]"),h.disabled=!0,v(h,"class","border w-full border-slate-400 outline-none text-[11px] pt-0.5 pl-0.5 pb-2"),h.value=$=a[1].name,v(w,"class","grow ml-2"),v(f,"class","flex flex-row border-b-slate-300 border-b p-2 items-center my-3"),v(C,"class","shrink-0 w-[70px]"),v(E,"class","grow ml-2 flex flex-row justify-between items-start"),v(D,"class","flex flex-row px-2 my-3 mb-6 text-[12px] text-slate-800"),v(s,"class","w-full h-[350px] grow bg-[#fafaf9] shadow-sm -mt-[1px] overflow-hidden overflow-y-auto p-2"),v(B,"class","flex flex-row justify-end items-center px-1 pt-2 mt-1"),v(e,"slot","content"),v(e,"class","absolute inset-1 p-2 pb-1 bg-xp-yellow overflow-hidden")},m(n,x){te(n,e,x),G(t,e,null),o(e,l),o(e,s),o(s,f),o(f,c),y.m(c,null),o(f,r),o(f,w),o(w,h),o(s,z);for(let d=0;d<p.length;d+=1)p[d].m(s,null);o(s,k),o(s,D),o(D,C),o(C,i),o(D,S),o(D,E),o(E,m),G(M,m,null),o(m,ie),G(F,m,null),o(E,ne),G(P,E,null),o(e,se),o(e,B),G(T,B,null),o(B,le),G(j,B,null),N=!0},p(n,x){if(O===(O=ce(n))&&y?y.p(n,x):(y.d(1),y=O(n),y&&(y.c(),y.m(c,null))),(!N||x&2&&$!==($=n[1].name)&&h.value!==$)&&(h.value=$),x&16){J=n[4];let d;for(d=0;d<J.length;d+=1){const A=ve(n,J,d);p[d]?p[d].p(A,x):(p[d]=be(A),p[d].c(),p[d].m(s,k))}for(;d<p.length;d+=1)p[d].d(1);p.length=J.length}},i(n){N||(R(t.$$.fragment,n),R(M.$$.fragment,n),R(F.$$.fragment,n),R(P.$$.fragment,n),R(T.$$.fragment,n),R(j.$$.fragment,n),N=!0)},o(n){W(t.$$.fragment,n),W(M.$$.fragment,n),W(F.$$.fragment,n),W(P.$$.fragment,n),W(T.$$.fragment,n),W(j.$$.fragment,n),N=!1},d(n){n&&u(e),H(t),y.d(),De(p,n),H(M),H(F),H(P),H(T),H(j)}}}function Te(a){let e,t,l={options:a[3],on_click_close:a[2],$$slots:{content:[Pe]},$$scope:{ctx:a}};return e=new Ve({props:l}),a[9](e),{c(){L(e.$$.fragment)},l(s){q(e.$$.fragment,s)},m(s,f){G(e,s,f),t=!0},p(s,[f]){const c={};f&8&&(c.options=s[3]),f&32770&&(c.$$scope={dirty:f,ctx:s}),e.$set(c)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){a[9](null),H(e,s)}}}function je(a,e,t){let l;ke(a,Ce,i=>t(10,l=i));let{id:s}=e,{window:f}=e,{self:c}=e,{fs_item:r}=e,{exec_path:w}=e,h=r==null?[]:[["Type",r.type.split("_").map(i=>ge.upperFirst(i)).join(" ")],["Location",Be(r.id)],...(r==null?void 0:r.type)=="file"?[["Size",X(r.size*1024)]]:[["Size",X(k(r.id)*1024)]],...(r==null?void 0:r.type)=="file"?[["Size on disk",X(Math.ceil(r.size*1024/4096)*4096)]]:[["Size on disk",X(Math.ceil(k(r.id)*1024/4096)*4096)]],...(r==null?void 0:r.type)=="file"?[]:[["Contains",`${r.children.filter(i=>l[i].type=="file").length} Files, ${r.children.filter(i=>l[i].type=="folder").length} Folders`]],["Date Created",_e(r.date_created)],["Last Modified",_e(r.date_modified)]];ye(()=>{console.log(r)});function $(){Se.update(i=>i.filter(S=>S!=c)),c.$destroy()}let{options:z={title:"Properties",min_width:350,min_height:460,width:350,height:460,icon:null,id:s,resizable:!1,maximize_btn:!1,minimize_btn:!1,exec_path:w}}=e;function k(i){console.log(i);let S=ge.sum(l[i].children.map(m=>l[m]).filter(m=>m.type=="file").map(m=>m.size)),E=l[i].children.filter(m=>l[m].type=="folder");for(let m of E)S+=k(m);return S}function D(i){return i.icon!=null?`url(${i.icon})`:pe[i.ext]!=null?`url(/images/xp/icons/${pe[i.ext]})`:null}function C(i){Ee[i?"unshift":"push"](()=>{f=i,t(0,f)})}return a.$$set=i=>{"id"in i&&t(6,s=i.id),"window"in i&&t(0,f=i.window),"self"in i&&t(7,c=i.self),"fs_item"in i&&t(1,r=i.fs_item),"exec_path"in i&&t(8,w=i.exec_path),"options"in i&&t(3,z=i.options)},[f,r,$,z,h,D,s,c,w,C]}class Qe extends we{constructor(e){super(),$e(this,e,je,Te,xe,{id:6,window:0,self:7,fs_item:1,exec_path:8,destroy:2,options:3})}get id(){return this.$$.ctx[6]}set id(e){this.$$set({id:e}),K()}get window(){return this.$$.ctx[0]}set window(e){this.$$set({window:e}),K()}get self(){return this.$$.ctx[7]}set self(e){this.$$set({self:e}),K()}get fs_item(){return this.$$.ctx[1]}set fs_item(e){this.$$set({fs_item:e}),K()}get exec_path(){return this.$$.ctx[8]}set exec_path(e){this.$$set({exec_path:e}),K()}get destroy(){return this.$$.ctx[2]}get options(){return this.$$.ctx[3]}set options(e){this.$$set({options:e}),K()}}export{Qe as default};
