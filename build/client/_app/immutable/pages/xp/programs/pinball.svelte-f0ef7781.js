import{S as E,i as S,R as h,s as k,l as p,a as q,w as D,m as w,n as g,h as d,c as F,x as M,T as N,p as u,ae as y,b,J as z,y as R,f as T,t as V,B as W,Z as A,K as B,Y as I}from"../../../chunks/index-23b4510f.js";import{W as C}from"../../../chunks/Window-5b3973f4.js";import{z as G,r as J}from"../../../chunks/store-21632576.js";import"../../../chunks/index-5b24d155.js";import"../../../chunks/TitleBar-a60117f4.js";import"../../../chunks/utils-1f7a3290.js";import"../../../chunks/lodash-b0811ec1.js";import"../../../chunks/_commonjsHelpers-cea7ac1a.js";import"../../../chunks/index-355ed6be.js";import"../../../chunks/index-6533b345.js";function K(o){let e,t,m,r,a,l;return{c(){e=p("div"),t=p("iframe"),this.h()},l(n){e=w(n,"DIV",{slot:!0,class:!0});var f=g(e);t=w(f,"IFRAME",{src:!0,class:!0,frameborder:!0});var s=g(t);s.forEach(d),f.forEach(d),this.h()},h(){var n;N(t.src,m="https://98.js.org/programs/pinball/space-cadet.html")||u(t,"src",m),u(t,"class",r="w-full h-full "+(((n=o[0])==null?void 0:n.z_index)==o[5]?"pointer-events-auto":"pointer-events-none")),u(t,"frameborder","0"),t.allowFullscreen=!0,u(e,"slot","content"),u(e,"class","absolute inset-0 flex flex-col")},m(n,f){b(n,e,f),z(e,t),o[10](t),a||(l=B(t,"click",o[6]),a=!0)},p(n,f){var s;f&33&&r!==(r="w-full h-full "+(((s=n[0])==null?void 0:s.z_index)==n[5]?"pointer-events-auto":"pointer-events-none"))&&u(t,"class",r)},d(n){n&&d(e),o[10](null),a=!1,l()}}}function Y(o){let e,t,m,r,a,l,n,f={options:o[2],on_click_close:o[1],$$slots:{content:[K]},$$scope:{ctx:o}};return l=new C({props:f}),o[11](l),{c(){e=p("div"),t=p("img"),a=q(),D(l.$$.fragment),this.h()},l(s){e=w(s,"DIV",{class:!0});var c=g(e);t=w(c,"IMG",{src:!0,alt:!0,class:!0}),c.forEach(d),a=F(s),M(l.$$.fragment,s),this.h()},h(){N(t.src,m="/images/pinball-splash.png")||u(t,"src",m),u(t,"alt","Pinball Splash"),u(t,"class","splash-image svelte-1nfrllj"),u(e,"class",r=y(o[4]?"splash-overlay":"hidden")+" svelte-1nfrllj")},m(s,c){b(s,e,c),z(e,t),b(s,a,c),R(l,s,c),n=!0},p(s,[c]){(!n||c&16&&r!==(r=y(s[4]?"splash-overlay":"hidden")+" svelte-1nfrllj"))&&u(e,"class",r);const _={};c&4&&(_.options=s[2]),c&16425&&(_.$$scope={dirty:c,ctx:s}),l.$set(_)},i(s){n||(T(l.$$.fragment,s),n=!0)},o(s){V(l.$$.fragment,s),n=!1},d(s){s&&d(e),s&&d(a),o[11](null),W(l,s)}}}function Z(o,e,t){let m;A(o,G,i=>t(5,m=i));let{id:r}=e,{window:a}=e,{self:l}=e,{parentNode:n}=e,f,s=!0;async function c(){J.update(i=>i.filter(x=>x!=l)),l.$destroy()}let{options:_={title:"Pinball",width:640,height:480,icon:"/images/xp/icons/Pinball.png",id:r}}=e;function v(){f.focus()}setTimeout(()=>{t(4,s=!1),v()},3e3);function P(i){I[i?"unshift":"push"](()=>{f=i,t(3,f)})}function j(i){I[i?"unshift":"push"](()=>{a=i,t(0,a)})}return o.$$set=i=>{"id"in i&&t(7,r=i.id),"window"in i&&t(0,a=i.window),"self"in i&&t(8,l=i.self),"parentNode"in i&&t(9,n=i.parentNode),"options"in i&&t(2,_=i.options)},[a,c,_,f,s,m,v,r,l,n,P,j]}class ne extends E{constructor(e){super(),S(this,e,Z,Y,k,{id:7,window:0,self:8,parentNode:9,destroy:1,options:2})}get id(){return this.$$.ctx[7]}set id(e){this.$$set({id:e}),h()}get window(){return this.$$.ctx[0]}set window(e){this.$$set({window:e}),h()}get self(){return this.$$.ctx[8]}set self(e){this.$$set({self:e}),h()}get parentNode(){return this.$$.ctx[9]}set parentNode(e){this.$$set({parentNode:e}),h()}get destroy(){return this.$$.ctx[1]}get options(){return this.$$.ctx[2]}set options(e){this.$$set({options:e}),h()}}export{ne as default};
