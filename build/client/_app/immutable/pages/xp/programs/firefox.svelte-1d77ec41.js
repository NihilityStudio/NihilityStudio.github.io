import{S as N,i as z,R as c,s as F,w as I,x as v,y as E,f as k,t as q,B as R,Z as S,l as _,m as h,n as w,h as d,T as W,p as f,b as A,J as B,Y as p}from"../../../chunks/index-23b4510f.js";import{W as C}from"../../../chunks/Window-5b3973f4.js";import{z as D,r as J}from"../../../chunks/store-21632576.js";import"../../../chunks/TitleBar-a60117f4.js";import"../../../chunks/utils-1f7a3290.js";import"../../../chunks/lodash-b0811ec1.js";import"../../../chunks/_commonjsHelpers-cea7ac1a.js";import"../../../chunks/index-355ed6be.js";import"../../../chunks/index-6533b345.js";function M(r){let e,t,a,s;return{c(){e=_("div"),t=_("iframe"),this.h()},l(n){e=h(n,"DIV",{slot:!0,class:!0});var o=w(e);t=h(o,"IFRAME",{src:!0,class:!0,frameborder:!0});var l=w(t);l.forEach(d),o.forEach(d),this.h()},h(){var n;W(t.src,a="https://browser.rammerhead.org/")||f(t,"src",a),f(t,"class",s="w-full h-full "+(((n=r[0])==null?void 0:n.z_index)==r[4]?"pointer-events-auto":"pointer-events-none")),f(t,"frameborder","0"),t.allowFullscreen=!0,f(e,"slot","content"),f(e,"class","absolute inset-0 flex flex-col")},m(n,o){A(n,e,o),B(e,t),r[8](t)},p(n,o){var l;o&17&&s!==(s="w-full h-full "+(((l=n[0])==null?void 0:l.z_index)==n[4]?"pointer-events-auto":"pointer-events-none"))&&f(t,"class",s)},d(n){n&&d(e),r[8](null)}}}function P(r){let e,t,a={options:r[2],on_click_close:r[1],$$slots:{content:[M]},$$scope:{ctx:r}};return e=new C({props:a}),r[9](e),{c(){I(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,n){E(e,s,n),t=!0},p(s,[n]){const o={};n&4&&(o.options=s[2]),n&4121&&(o.$$scope={dirty:n,ctx:s}),e.$set(o)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){r[9](null),R(e,s)}}}function T(r,e,t){let a;S(r,D,i=>t(4,a=i));let{id:s}=e,{window:n}=e,{self:o}=e,{parentNode:l}=e,u;async function g(){J.update(i=>i.filter(y=>y!=o)),o.$destroy()}let{options:m={title:"Firefox",width:900,height:600,icon:"/images/xp/icons/Firefox.png",id:s}}=e;function b(i){p[i?"unshift":"push"](()=>{u=i,t(3,u)})}function x(i){p[i?"unshift":"push"](()=>{n=i,t(0,n)})}return r.$$set=i=>{"id"in i&&t(5,s=i.id),"window"in i&&t(0,n=i.window),"self"in i&&t(6,o=i.self),"parentNode"in i&&t(7,l=i.parentNode),"options"in i&&t(2,m=i.options)},[n,g,m,u,a,s,o,l,b,x]}class Q extends N{constructor(e){super(),z(this,e,T,P,F,{id:5,window:0,self:6,parentNode:7,destroy:1,options:2})}get id(){return this.$$.ctx[5]}set id(e){this.$$set({id:e}),c()}get window(){return this.$$.ctx[0]}set window(e){this.$$set({window:e}),c()}get self(){return this.$$.ctx[6]}set self(e){this.$$set({self:e}),c()}get parentNode(){return this.$$.ctx[7]}set parentNode(e){this.$$set({parentNode:e}),c()}get destroy(){return this.$$.ctx[1]}get options(){return this.$$.ctx[2]}set options(e){this.$$set({options:e}),c()}}export{Q as default};
