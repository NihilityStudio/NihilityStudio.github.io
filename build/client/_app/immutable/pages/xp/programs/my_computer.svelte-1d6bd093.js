import{S as Ie,i as Ce,R as J,s as Me,w as C,x as M,y as F,f as S,t as B,B as R,Z as Fe,o as Se,l as g,a as v,r as Be,m as d,n as b,c as $,h,u as Re,p,q as we,b as Ne,J as i,K as xe,N as Te,Y as ye}from"../../../chunks/index-23b4510f.js";import{W as Ae}from"../../../chunks/Window-5b3973f4.js";import{d as ke,h as Pe,r as Le,k as De,a as Ue}from"../../../chunks/store-21632576.js";import{M as qe}from"../../../chunks/Menu-cbc53c27.js";import{R as ee}from"../../../chunks/RButton-f0f5ef2d.js";import Ge from"./my_computer/viewer.svelte-6d1724ef.js";import{t as We,a as je,b as ze}from"../../../chunks/finder-bfb6260e.js";import He from"./my_computer/sidebar.svelte-1e9238d9.js";import"../../../chunks/TitleBar-a60117f4.js";import"../../../chunks/utils-1f7a3290.js";import"../../../chunks/lodash-b0811ec1.js";import"../../../chunks/_commonjsHelpers-cea7ac1a.js";import"../../../chunks/index-355ed6be.js";import"../../../chunks/index-6533b345.js";import"../../../chunks/tooltip-f551ec3c.js";import"../../../chunks/preload-helper-c28b9807.js";import"../../../chunks/fs-93cd4a3b.js";import"../../../chunks/index-5b24d155.js";import"../../../chunks/dir_parser-92703b79.js";import"../../../chunks/Previewable-2a157018.js";function Oe(s){let t,o,y,u,_,r,P,a,w,x,c,L,D,te,N,U,ne,k,se,T,re,V,z,ie,A,e,l,K,ce,pe,q,E,fe,G,le,ge,oe,de,W,j,he,Y,I,Z,_e,be;y=new qe({props:{menu:s[11]}}),w=new ee({props:{icon:"/images/xp/icons/Back.png",title:"Back",on_click:s[14],expandable:!0,disabled:s[8]==0,tooltip_message:"Back to Previous"}}),c=new ee({props:{icon:"/images/xp/icons/Forward.png",on_click:s[15],expandable:!0,disabled:s[8]==s[7].length-1}}),D=new ee({props:{icon:"/images/xp/icons/Up.png",on_click:s[6],disabled:s[7][s[8]]==null}}),k=new ee({props:{icon:"/images/xp/icons/Search.png",title:"Search"}}),T=new ee({props:{icon:"/images/xp/icons/FolderView.png",title:"Folders"}}),A=new ee({props:{icon:"/images/xp/icons/FolderView-Classic.png",expandable:!0}}),j=new He({props:{my_computer_instance:s[2],id:s[7][s[8]]}});let Ve={self:s[1],id:s[7][s[8]],my_computer_instance:s[2]};return I=new Ge({props:Ve}),s[19](I),I.$on("open",s[20]),{c(){t=g("div"),o=g("div"),C(y.$$.fragment),u=v(),_=g("div"),r=g("div"),P=v(),a=g("div"),C(w.$$.fragment),x=v(),C(c.$$.fragment),L=v(),C(D.$$.fragment),te=v(),N=g("div"),U=g("div"),ne=v(),C(k.$$.fragment),se=v(),C(T.$$.fragment),re=v(),V=g("div"),z=g("div"),ie=v(),C(A.$$.fragment),e=v(),l=g("div"),K=g("span"),ce=Be("Address"),pe=v(),q=g("div"),E=g("input"),fe=v(),G=g("div"),ge=v(),oe=g("div"),de=v(),W=g("div"),C(j.$$.fragment),he=v(),Y=g("div"),C(I.$$.fragment),this.h()},l(n){t=d(n,"DIV",{slot:!0,class:!0});var m=b(t);o=d(m,"DIV",{class:!0});var H=b(o);M(y.$$.fragment,H),u=$(H),_=d(H,"DIV",{class:!0});var ae=b(_);r=d(ae,"DIV",{class:!0}),b(r).forEach(h),ae.forEach(h),H.forEach(h),P=$(m),a=d(m,"DIV",{class:!0});var f=b(a);M(w.$$.fragment,f),x=$(f),M(c.$$.fragment,f),L=$(f),M(D.$$.fragment,f),te=$(f),N=d(f,"DIV",{class:!0});var Q=b(N);U=d(Q,"DIV",{class:!0}),b(U).forEach(h),Q.forEach(h),ne=$(f),M(k.$$.fragment,f),se=$(f),M(T.$$.fragment,f),re=$(f),V=d(f,"DIV",{class:!0});var O=b(V);z=d(O,"DIV",{class:!0}),b(z).forEach(h),O.forEach(h),ie=$(f),M(A.$$.fragment,f),f.forEach(h),e=$(m),l=d(m,"DIV",{class:!0});var X=b(l);K=d(X,"SPAN",{class:!0});var ve=b(K);ce=Re(ve,"Address"),ve.forEach(h),pe=$(X),q=d(X,"DIV",{class:!0});var ue=b(q);E=d(ue,"INPUT",{class:!0,type:!0}),fe=$(ue),G=d(ue,"DIV",{class:!0});var Ee=b(G);Ee.forEach(h),ue.forEach(h),ge=$(X),oe=d(X,"DIV",{class:!0}),b(oe).forEach(h),X.forEach(h),de=$(m),W=d(m,"DIV",{class:!0});var me=b(W);M(j.$$.fragment,me),he=$(me),Y=d(me,"DIV",{class:!0});var $e=b(Y);M(I.$$.fragment,$e),$e.forEach(h),me.forEach(h),m.forEach(h),this.h()},h(){p(r,"class","w-[20px] h-[20px] bg-[url(/images/ms.png)] bg-contain bg-center bg-no-repeat"),p(_,"class","w-[40px] h-full bg-slate-50 flex items-center justify-center"),p(o,"class","shrink-0 w-full border-b border-stone-300 flex flex-row items-center justify-between"),p(U,"class","w-full h-full border-l border-stone-300"),p(N,"class","w-[1px] h-full py-1"),p(z,"class","w-full h-full border-l border-stone-300"),p(V,"class","w-[1px] h-full py-1"),p(a,"class","shrink-0 flex flex-row items-center border-b border-stone-300"),p(K,"class","px-2 text-slate-800"),p(E,"class","absolute inset-0 pl-7 outline-none"),p(E,"type","text"),E.value=s[10],p(G,"class",le="w-[17px] h-[17px] absolute top-[4px] left-[4px] "+(s[7][s[8]]==null?"bg-[url(/images/xp/icons/MyComputer.png)]":"bg-[url(/images/xp/icons/FolderClosed.png)]")+" bg-contain"),we(G,"background-image",s[13](s[9][s[7][s[8]]]),!1),p(q,"class","grow h-[25px] relative"),p(oe,"class","w-[30px] h-[20px] bg-[url(/images/xp/icons/Go.png)] bg-center bg-contain bg-no-repeat"),p(l,"class","shrink-0 flex flex-row items-center border-b border-stone-300 text-[11px] items-center"),p(Y,"class","grow relative bg-blue-100"),p(W,"class","grow flex flex-row overflow-hidden"),p(t,"slot","content"),p(t,"class","absolute inset-0.5 flex flex-col bg-xp-yellow overflow-hidden")},m(n,m){Ne(n,t,m),i(t,o),F(y,o,null),i(o,u),i(o,_),i(_,r),i(t,P),i(t,a),F(w,a,null),i(a,x),F(c,a,null),i(a,L),F(D,a,null),i(a,te),i(a,N),i(N,U),i(a,ne),F(k,a,null),i(a,se),F(T,a,null),i(a,re),i(a,V),i(V,z),i(a,ie),F(A,a,null),i(t,e),i(t,l),i(l,K),i(K,ce),i(l,pe),i(l,q),i(q,E),i(q,fe),i(q,G),i(l,ge),i(l,oe),i(t,de),i(t,W),F(j,W,null),i(W,he),i(W,Y),F(I,Y,null),Z=!0,_e||(be=[xe(E,"click",Ke),xe(E,"keyup",s[12])],_e=!0)},p(n,m){const H={};m&256&&(H.disabled=n[8]==0),w.$set(H);const ae={};m&384&&(ae.disabled=n[8]==n[7].length-1),c.$set(ae);const f={};m&384&&(f.disabled=n[7][n[8]]==null),D.$set(f),(!Z||m&1024&&E.value!==n[10])&&(E.value=n[10]),(!Z||m&384&&le!==(le="w-[17px] h-[17px] absolute top-[4px] left-[4px] "+(n[7][n[8]]==null?"bg-[url(/images/xp/icons/MyComputer.png)]":"bg-[url(/images/xp/icons/FolderClosed.png)]")+" bg-contain"))&&p(G,"class",le),m&896&&we(G,"background-image",n[13](n[9][n[7][n[8]]]),!1);const Q={};m&4&&(Q.my_computer_instance=n[2]),m&384&&(Q.id=n[7][n[8]]),j.$set(Q);const O={};m&2&&(O.self=n[1]),m&384&&(O.id=n[7][n[8]]),m&4&&(O.my_computer_instance=n[2]),I.$set(O)},i(n){Z||(S(y.$$.fragment,n),S(w.$$.fragment,n),S(c.$$.fragment,n),S(D.$$.fragment,n),S(k.$$.fragment,n),S(T.$$.fragment,n),S(A.$$.fragment,n),S(j.$$.fragment,n),S(I.$$.fragment,n),Z=!0)},o(n){B(y.$$.fragment,n),B(w.$$.fragment,n),B(c.$$.fragment,n),B(D.$$.fragment,n),B(k.$$.fragment,n),B(T.$$.fragment,n),B(A.$$.fragment,n),B(j.$$.fragment,n),B(I.$$.fragment,n),Z=!1},d(n){n&&h(t),R(y),R(w),R(c),R(D),R(k),R(T),R(A),R(j),s[19](null),R(I),_e=!1,Te(be)}}}function Je(s){let t,o,y={options:s[4],on_click_close:s[3],$$slots:{content:[Oe]},$$scope:{ctx:s}};return t=new Ae({props:y}),s[21](t),{c(){C(t.$$.fragment)},l(u){M(t.$$.fragment,u)},m(u,_){F(t,u,_),o=!0},p(u,[_]){const r={};_&16&&(r.options=u[4]),_&8390534&&(r.$$scope={dirty:_,ctx:u}),t.$set(r)},i(u){o||(S(t.$$.fragment,u),o=!0)},o(u){B(t.$$.fragment,u),o=!1},d(u){s[21](null),R(t,u)}}}const Ke=s=>s.target.select();function Ye(s,t,o){let y,u;Fe(s,Pe,e=>o(9,u=e));let{id:_}=t,{window:r}=t,{self:P}=t,{exec_path:a}=t,{fs_item:w}=t,x=[w==null?void 0:w.id],c=0,{viewer:L}=t,D=[{name:"File",items:[[{name:"Create Shortcut",disabled:!0}],[{name:"Close",action:()=>{N()}}]]},{name:"View",items:[[{name:"Toolbars"},{name:"Status Bar"},{name:"Explorer Bar"}],[{name:"Thumbnails"},{name:"Tiles"},{name:"Icons"},{name:"List"},{name:"Details"}],[{name:"Choose Details..."},{name:"Go To"},{name:"Refresh"}]]},{name:"Favorites",items:[[{name:"Add to Favorites..."},{name:"Organize Favorites"}],[{name:"Links",icon:"/images/xp/icons/FolderClosed.png"},{name:"MSN.com",icon:"/images/xp/icons/URL.png"},{name:"Radio Station Guide",icon:"/images/xp/icons/URL.png"}]]},{name:"Tools",items:[[{name:"Map Network Drive..."},{name:"Disconnect Network Drive..."},{name:"Synchronize..."}],[{name:"Folder Options..."}]]},{name:"Help",items:[[{name:"Help and Support Center",action:()=>V("https://web.archive.org/web/20020916202544/http://microsoft.com/windowsxp/pro/default.asp")},{name:"Is this copy legal?",action:()=>V("https://web.archive.org/web/20020916202544/http://microsoft.com/windowsxp/pro/default.asp")}],[{name:"About Windows",action:()=>V("https://web.archive.org/web/20020916202544/http://microsoft.com/windowsxp/pro/default.asp")}]]}];Se(()=>{});function te(e){if(e.key=="Enter"){let l=je(e.target.value);l==null&&(l=ze(e.target.value)),console.log("found id",l),l&&(k(l),e.target.blur())}}function N(){Le.update(e=>e.filter(l=>l!=P)),P.$destroy()}let{options:U={title:"My Computer",min_width:500,min_height:400,width:700,height:500,icon:"/images/xp/icons/MyComputer.png",id:_,exec_path:a}}=t;function ne(e){return e==null?null:e.icon!=null?`url(${e.icon})`:De[e.ext]!=null?`url(/images/xp/icons/${De[e.ext]})`:e.id==ke?"url(/images/xp/icons/RecycleBinempty.png)":null}function k(e){e!=x[c]&&(console.log("open",e),console.log(u[e]),o(7,x=[...x.slice(0,c+1),e]),o(8,c=x.length-1))}function se(){o(8,c=Math.max(0,c-1))}function T(){o(8,c=Math.min(x.length-1,c+1))}function re(){let e=u[x[c]].parent;k(e)}function V(e){Ue.set({path:"./programs/internet_explorer.svelte",fs_item:{url:e}})}function z(e){ye[e?"unshift":"push"](()=>{L=e,o(1,L)})}const ie=e=>k(e.detail.id);function A(e){ye[e?"unshift":"push"](()=>{r=e,o(0,r)})}return s.$$set=e=>{"id"in e&&o(16,_=e.id),"window"in e&&o(0,r=e.window),"self"in e&&o(2,P=e.self),"exec_path"in e&&o(17,a=e.exec_path),"fs_item"in e&&o(18,w=e.fs_item),"viewer"in e&&o(1,L=e.viewer),"options"in e&&o(4,U=e.options)},s.$$.update=()=>{if(s.$$.dirty&384&&o(10,y=We(x[c])||"My Computer"),s.$$.dirty&897){let e=x[c];if(e==null)r==null||r.update_icon("/images/xp/icons/MyComputer.png"),r==null||r.update_title("My Computer");else if(e==ke)r==null||r.update_icon("/images/xp/icons/RecycleBinempty.png"),r==null||r.update_title("Recycle Bin");else{let l=u[e];l&&(l.icon?r==null||r.update_icon(l.icon):r==null||r.update_icon("/images/xp/icons/FolderClosed.png"),r==null||r.update_title(l.name))}}},[r,L,P,N,U,k,re,x,c,u,y,D,te,ne,se,T,_,a,w,z,ie,A]}class _t extends Ie{constructor(t){super(),Ce(this,t,Ye,Je,Me,{id:16,window:0,self:2,exec_path:17,fs_item:18,viewer:1,destroy:3,options:4,open:5,up:6})}get id(){return this.$$.ctx[16]}set id(t){this.$$set({id:t}),J()}get window(){return this.$$.ctx[0]}set window(t){this.$$set({window:t}),J()}get self(){return this.$$.ctx[2]}set self(t){this.$$set({self:t}),J()}get exec_path(){return this.$$.ctx[17]}set exec_path(t){this.$$set({exec_path:t}),J()}get fs_item(){return this.$$.ctx[18]}set fs_item(t){this.$$set({fs_item:t}),J()}get viewer(){return this.$$.ctx[1]}set viewer(t){this.$$set({viewer:t}),J()}get destroy(){return this.$$.ctx[3]}get options(){return this.$$.ctx[4]}set options(t){this.$$set({options:t}),J()}get open(){return this.$$.ctx[5]}get up(){return this.$$.ctx[6]}}export{_t as default};
