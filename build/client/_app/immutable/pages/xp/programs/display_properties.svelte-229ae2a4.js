import{S as he,i as pe,P as j,s as me,w as M,x as O,y as R,f as U,t as N,B as Q,Y as le,o as _e,a2 as ae,l as g,a as q,r as fe,m as v,n as w,c as B,h as m,u as ue,p as u,b as F,J as o,a3 as ge,L as ve,W as we,Q as be,K as xe,v as ke,E as L,q as Y}from"../../../chunks/index-70a5fc52.js";import{W as $e}from"../../../chunks/Window-654de68f.js";import{B as ne}from"../../../chunks/Button-e8580b92.js";import{T as ye}from"../../../chunks/Tab-95d85a5b.js";import{t as De,h as Ee,w as re,r as Ie}from"../../../chunks/store-59feb90e.js";import{g as Ve}from"../../../chunks/index-355ed6be.js";import{_ as ie}from"../../../chunks/lodash-b0811ec1.js";import"../../../chunks/TitleBar-5f961d1e.js";import"../../../chunks/utils-1f7a3290.js";/* empty css                                                           */import"../../../chunks/index-f053a494.js";import"../../../chunks/_commonjsHelpers-cea7ac1a.js";function oe(t,e,s){const n=t.slice();return n[14]=e[s],n}function Pe(t){return{c:L,l:L,m:L,p:L,d:L}}function qe(t){let e,s=`url(${t[17]})`;return{c(){e=g("div"),this.h()},l(n){e=v(n,"DIV",{class:!0,style:!0});var l=w(e);l.forEach(m),this.h()},h(){u(e,"class","absolute bg-cover"),Y(e,"inset","10px 10px 30px 10px"),Y(e,"background-image",s,!1)},m(n,l){F(n,e,l)},p(n,l){l&8&&s!==(s=`url(${n[17]})`)&&Y(e,"background-image",s,!1)},d(n){n&&m(e)}}}function Be(t){let e;return{c(){e=g("div"),this.h()},l(s){e=v(s,"DIV",{class:!0,style:!0});var n=w(e);n.forEach(m),this.h()},h(){u(e,"class","absolute bg-cover"),Y(e,"inset","10px 10px 30px 10px")},m(s,n){F(s,e,n)},p:L,d(s){s&&m(e)}}}function ce(t){let e,s,n,l,i,c=t[4][t[14]].basename+"",d,b,$,y,V;function E(){return t[11](t[14])}return{c(){e=g("div"),s=g("img"),l=q(),i=g("p"),d=fe(c),$=q(),this.h()},l(h){e=v(h,"DIV",{class:!0});var p=w(e);s=v(p,"IMG",{src:!0,class:!0,alt:!0}),l=B(p),i=v(p,"P",{class:!0});var P=w(i);d=ue(P,c),P.forEach(m),$=B(p),p.forEach(m),this.h()},h(){be(s.src,n="/images/xp/icons/JPG.png")||u(s,"src",n),u(s,"class","w-[20px] h-[20px] shrink-0"),u(s,"alt",""),u(i,"class",b="leading-[20px] ml-1 px-1 grow-0 line-clamp-1 "+(ie.isEqual(t[3],t[14])?"bg-blue-600 text-slate-50":"")),u(e,"class","w-full flex flex-row")},m(h,p){F(h,e,p),o(e,s),o(e,l),o(e,i),o(i,d),o(e,$),y||(V=xe(e,"click",E),y=!0)},p(h,p){t=h,p&16&&c!==(c=t[4][t[14]].basename+"")&&ke(d,c),p&8&&b!==(b="leading-[20px] ml-1 px-1 grow-0 line-clamp-1 "+(ie.isEqual(t[3],t[14])?"bg-blue-600 text-slate-50":""))&&u(i,"class",b)},d(h){h&&m(e),y=!1,V()}}}function Se(t){let e,s,n,l,i,c,d,b,$,y,V,E,h,p,P,T,a,D,I,S,H,z,A;s=new ye({props:{size:"sm",items:["Themes","Desktop","Screesaver","Appearance","Settings"],selected:"Desktop"}});let x={ctx:t,current:null,token:null,hasCatch:!1,pending:Be,then:qe,catch:Pe,value:17};ae(b=t[7](t[3]),x);let C=t[5],_=[];for(let r=0;r<C.length;r+=1)_[r]=ce(oe(t,C,r));return S=new ne({props:{title:"OK",style:"margin-right:10px;",on_click:t[6]}}),z=new ne({props:{title:"Cancel",on_click:t[1]}}),{c(){e=g("div"),M(s.$$.fragment),n=q(),l=g("div"),i=g("div"),c=g("div"),d=g("div"),x.block.c(),$=q(),y=g("div"),V=q(),E=g("div"),h=g("div"),p=g("span"),P=fe("Background"),T=q(),a=g("div");for(let r=0;r<_.length;r+=1)_[r].c();D=q(),I=g("div"),M(S.$$.fragment),H=q(),M(z.$$.fragment),this.h()},l(r){e=v(r,"DIV",{slot:!0,class:!0});var k=w(e);O(s.$$.fragment,k),n=B(k),l=v(k,"DIV",{class:!0});var f=w(l);i=v(f,"DIV",{class:!0});var W=w(i);c=v(W,"DIV",{class:!0});var Z=w(c);d=v(Z,"DIV",{class:!0});var G=w(d);x.block.l(G),$=B(G),y=v(G,"DIV",{class:!0});var de=w(y);de.forEach(m),G.forEach(m),Z.forEach(m),W.forEach(m),V=B(f),E=v(f,"DIV",{class:!0});var ee=w(E);h=v(ee,"DIV",{class:!0});var J=w(h);p=v(J,"SPAN",{class:!0});var te=w(p);P=ue(te,"Background"),te.forEach(m),T=B(J),a=v(J,"DIV",{class:!0});var se=w(a);for(let X=0;X<_.length;X+=1)_[X].l(se);se.forEach(m),J.forEach(m),ee.forEach(m),f.forEach(m),D=B(k),I=v(k,"DIV",{class:!0});var K=w(I);O(S.$$.fragment,K),H=B(K),O(z.$$.fragment,K),K.forEach(m),k.forEach(m),this.h()},h(){u(y,"class","absolute inset-0 bg-cover bg-[url(/images/xp/crt_monitor.png)]"),u(d,"class","w-full h-full relative"),u(c,"class","absolute top-8 left-1/2 -translate-x-1/2 w-[190px] h-[190px]"),u(i,"class","h-[250px] shrink-0 relative"),u(p,"class","my-1"),u(a,"class","grow p-1 overflow-y-scroll overflow-x-hidden border border-slate-700"),u(h,"class","grow flex flex-col overflow-hidden"),u(E,"class","grow flex flex-row text-[13px] p-2 text-slate-800 overflow-hidden"),u(l,"class","w-full grow bg-[#fafaf9] shadow-sm -mt-[1px] flex flex-col overflow-hidden"),u(I,"class","shrink-0 flex flex-row justify-end items-center px-1 pt-2"),u(e,"slot","content"),u(e,"class","absolute inset-1 p-2 pb-1 flex flex-col bg-xp-yellow overflow-hidden")},m(r,k){F(r,e,k),R(s,e,null),o(e,n),o(e,l),o(l,i),o(i,c),o(c,d),x.block.m(d,x.anchor=null),x.mount=()=>d,x.anchor=$,o(d,$),o(d,y),o(l,V),o(l,E),o(E,h),o(h,p),o(p,P),o(h,T),o(h,a);for(let f=0;f<_.length;f+=1)_[f].m(a,null);o(e,D),o(e,I),R(S,I,null),o(I,H),R(z,I,null),A=!0},p(r,k){if(t=r,x.ctx=t,k&8&&b!==(b=t[7](t[3]))&&ae(b,x)||ge(x,t,k),k&56){C=t[5];let f;for(f=0;f<C.length;f+=1){const W=oe(t,C,f);_[f]?_[f].p(W,k):(_[f]=ce(W),_[f].c(),_[f].m(a,null))}for(;f<_.length;f+=1)_[f].d(1);_.length=C.length}},i(r){A||(U(s.$$.fragment,r),U(S.$$.fragment,r),U(z.$$.fragment,r),A=!0)},o(r){N(s.$$.fragment,r),N(S.$$.fragment,r),N(z.$$.fragment,r),A=!1},d(r){r&&m(e),Q(s),x.block.d(),x.token=null,x=null,ve(_,r),Q(S),Q(z)}}}function ze(t){let e,s,n={options:t[2],on_click_close:t[1],$$slots:{content:[Se]},$$scope:{ctx:t}};return e=new $e({props:n}),t[12](e),{c(){M(e.$$.fragment)},l(l){O(e.$$.fragment,l)},m(l,i){R(e,l,i),s=!0},p(l,[i]){const c={};i&4&&(c.options=l[2]),i&262168&&(c.$$scope={dirty:i,ctx:l}),e.$set(c)},i(l){s||(U(e.$$.fragment,l),s=!0)},o(l){N(e.$$.fragment,l),s=!1},d(l){t[12](null),Q(e,l)}}}function Ce(t,e,s){let n,l;le(t,Ee,a=>s(4,n=a)),le(t,re,a=>s(13,l=a));let{id:i}=e,{window:c}=e,{self:d}=e,{exec_path:b}=e,$=l,y=n[De].children.filter(a=>n[a].type=="file");_e(()=>{});function V(){Ie.update(a=>a.filter(D=>D!=d)),d.$destroy()}function E(){re.set($),V()}let{options:h={title:"Display Properties",min_width:400,min_height:570,width:400,height:570,icon:null,id:i,resizable:!1,maximize_btn:!1,minimize_btn:!1,exec_path:b}}=e;async function p(a){let D=n[a];if(console.log(D),D.storage_type=="remote")return D.url;if(D.storage_type=="local"){let I=await Ve(D.url);return URL.createObjectURL(I)}}const P=a=>s(3,$=a);function T(a){we[a?"unshift":"push"](()=>{c=a,s(0,c)})}return t.$$set=a=>{"id"in a&&s(8,i=a.id),"window"in a&&s(0,c=a.window),"self"in a&&s(9,d=a.self),"exec_path"in a&&s(10,b=a.exec_path),"options"in a&&s(2,h=a.options)},[c,V,h,$,n,y,E,p,i,d,b,P,T]}class Ne extends he{constructor(e){super(),pe(this,e,Ce,ze,me,{id:8,window:0,self:9,exec_path:10,destroy:1,options:2})}get id(){return this.$$.ctx[8]}set id(e){this.$$set({id:e}),j()}get window(){return this.$$.ctx[0]}set window(e){this.$$set({window:e}),j()}get self(){return this.$$.ctx[9]}set self(e){this.$$set({self:e}),j()}get exec_path(){return this.$$.ctx[10]}set exec_path(e){this.$$set({exec_path:e}),j()}get destroy(){return this.$$.ctx[1]}get options(){return this.$$.ctx[2]}set options(e){this.$$set({options:e}),j()}}export{Ne as default};
