import{S as Gt,i as Ot,P as le,s as Ht,w as ie,x as oe,y as ne,f as ce,t as de,B as fe,Y as Jt,o as Kt,l as r,a as u,r as w,m as i,n as o,c as v,h as s,u as x,p as n,b as Dt,J as e,v as G,W as Mt,q as Re}from"../../../chunks/index-70a5fc52.js";import{W as Qt}from"../../../chunks/Window-654de68f.js";import{B as Ut}from"../../../chunks/Button-e8580b92.js";import{T as Rt}from"../../../chunks/Tab-95d85a5b.js";import{C as qt}from"../../../chunks/CheckBox-adbe613c.js";import{h as Yt,r as Xt,l as Qe}from"../../../chunks/store-59feb90e.js";import{k as re}from"../../../chunks/utils-1f7a3290.js";import{_ as Zt}from"../../../chunks/lodash-b0811ec1.js";import"../../../chunks/finder-52261c48.js";import"../../../chunks/TitleBar-5f961d1e.js";import"../../../chunks/index-355ed6be.js";/* empty css                                                           */import"../../../chunks/index-f053a494.js";import"../../../chunks/_commonjsHelpers-cea7ac1a.js";function es(d){let t;return{c(){t=r("div"),this.h()},l(a){t=i(a,"DIV",{class:!0});var p=o(t);p.forEach(s),this.h()},h(){n(t,"class","w-[50px] h-[50px] shrink-0 bg-[url(/images/xp/icons/FolderClosed.png)] bg-contain"),Re(t,"background-image",d[1].icon==null?"":`url(${d[1].icon})`,!1)},m(a,p){Dt(a,t,p)},p(a,p){p&2&&Re(t,"background-image",a[1].icon==null?"":`url(${a[1].icon})`,!1)},d(a){a&&s(t)}}}function ts(d){let t;return{c(){t=r("div"),this.h()},l(a){t=i(a,"DIV",{class:!0});var p=o(t);p.forEach(s),this.h()},h(){n(t,"class","w-[50px] h-[50px] shrink-0 bg-[url(/images/xp/icons/Default.png)] bg-contain"),Re(t,"background-image",Qe[d[1].ext]!=null?`url(/images/xp/icons/${Qe[d[1].ext]})`:"",!1)},m(a,p){Dt(a,t,p)},p(a,p){p&2&&Re(t,"background-image",Qe[a[1].ext]!=null?`url(/images/xp/icons/${Qe[a[1].ext]})`:"",!1)},d(a){a&&s(t)}}}function ss(d){let t,a,p,l,_,g,I,V,h,O,Q,E,P,pe,f,k,S=d[4].type+"",y,Ye,C,R,Xe,Ze,Y,ue=d[4].format+"",Ie,et,z,T,ve,tt,X,st,at,L,Z,he=(d[4].used_space*1024).toLocaleString()+"",Ve,lt,rt,me,_e=re(d[4].used_space*1024)+"",Se,it,F,A,ge,ot,ee,nt,ct,B,te,be=(d[4].free_space*1024).toLocaleString()+"",Pe,dt,ft,we,xe=re(d[4].free_space*1024)+"",Ce,pt,j,N,ye,ut,se,vt,ht,U,ae,ke=(d[4].capacity*1024).toLocaleString()+"",ze,mt,_t,$e,Ee=re(d[4].capacity*1024)+"",Te,gt,De,bt,q,H,wt,J,xt,W,K,yt,M,$;a=new Rt({props:{size:"sm",items:["General","Tools","Hardware","Sharing","Quota"],selected:"General"}});function It(c,m){return c[1].type=="file"?ts:es}let Le=It(d),D=Le(d);return H=new qt({props:{checked:!1,label:"Compress drive to save disk space"}}),J=new qt({props:{checked:!0,checkmark:!1,label:"Allow Indexing Service to index this disk for fast file searching",style:"margin-top:10px;"}}),K=new Ut({props:{title:"OK",style:"margin-right:10px;",on_click:d[2]}}),M=new Ut({props:{title:"Cancel",on_click:d[2]}}),{c(){t=r("div"),ie(a.$$.fragment),p=u(),l=r("div"),_=r("div"),g=r("div"),D.c(),I=u(),V=r("div"),h=r("input"),Q=u(),E=r("div"),P=r("div"),pe=w("Type"),f=u(),k=r("div"),y=w(S),Ye=u(),C=r("div"),R=r("div"),Xe=w("File System"),Ze=u(),Y=r("div"),Ie=w(ue),et=u(),z=r("div"),T=r("div"),ve=r("div"),tt=u(),X=r("span"),st=w("Used space"),at=u(),L=r("div"),Z=r("p"),Ve=w(he),lt=w(" bytes"),rt=u(),me=r("p"),Se=w(_e),it=u(),F=r("div"),A=r("div"),ge=r("div"),ot=u(),ee=r("span"),nt=w("Free space"),ct=u(),B=r("div"),te=r("p"),Pe=w(be),dt=w(" bytes"),ft=u(),we=r("p"),Ce=w(xe),pt=u(),j=r("div"),N=r("div"),ye=r("div"),ut=u(),se=r("span"),vt=w("Capacity"),ht=u(),U=r("div"),ae=r("p"),ze=w(ke),mt=w(" bytes"),_t=u(),$e=r("p"),Te=w(Ee),gt=u(),De=r("div"),bt=u(),q=r("div"),ie(H.$$.fragment),wt=u(),ie(J.$$.fragment),xt=u(),W=r("div"),ie(K.$$.fragment),yt=u(),ie(M.$$.fragment),this.h()},l(c){t=i(c,"DIV",{slot:!0,class:!0});var m=o(t);oe(a.$$.fragment,m),p=v(m),l=i(m,"DIV",{class:!0});var b=o(l);_=i(b,"DIV",{class:!0});var Fe=o(_);g=i(Fe,"DIV",{class:!0});var Vt=o(g);D.l(Vt),Vt.forEach(s),I=v(Fe),V=i(Fe,"DIV",{class:!0});var St=o(V);h=i(St,"INPUT",{class:!0}),St.forEach(s),Fe.forEach(s),Q=v(b),E=i(b,"DIV",{class:!0});var Ae=o(E);P=i(Ae,"DIV",{class:!0});var Pt=o(P);pe=x(Pt,"Type"),Pt.forEach(s),f=v(Ae),k=i(Ae,"DIV",{class:!0});var Ct=o(k);y=x(Ct,S),Ct.forEach(s),Ae.forEach(s),Ye=v(b),C=i(b,"DIV",{class:!0});var Be=o(C);R=i(Be,"DIV",{class:!0});var zt=o(R);Xe=x(zt,"File System"),zt.forEach(s),Ze=v(Be),Y=i(Be,"DIV",{class:!0});var Tt=o(Y);Ie=x(Tt,ue),Tt.forEach(s),Be.forEach(s),et=v(b),z=i(b,"DIV",{class:!0});var je=o(z);T=i(je,"DIV",{class:!0});var Ne=o(T);ve=i(Ne,"DIV",{class:!0}),o(ve).forEach(s),tt=v(Ne),X=i(Ne,"SPAN",{class:!0});var Lt=o(X);st=x(Lt,"Used space"),Lt.forEach(s),Ne.forEach(s),at=v(je),L=i(je,"DIV",{class:!0});var Ue=o(L);Z=i(Ue,"P",{});var kt=o(Z);Ve=x(kt,he),lt=x(kt," bytes"),kt.forEach(s),rt=v(Ue),me=i(Ue,"P",{});var Ft=o(me);Se=x(Ft,_e),Ft.forEach(s),Ue.forEach(s),je.forEach(s),it=v(b),F=i(b,"DIV",{class:!0});var qe=o(F);A=i(qe,"DIV",{class:!0});var We=o(A);ge=i(We,"DIV",{class:!0}),o(ge).forEach(s),ot=v(We),ee=i(We,"SPAN",{class:!0});var At=o(ee);nt=x(At,"Free space"),At.forEach(s),We.forEach(s),ct=v(qe),B=i(qe,"DIV",{class:!0});var Ge=o(B);te=i(Ge,"P",{});var $t=o(te);Pe=x($t,be),dt=x($t," bytes"),$t.forEach(s),ft=v(Ge),we=i(Ge,"P",{});var Bt=o(we);Ce=x(Bt,xe),Bt.forEach(s),Ge.forEach(s),qe.forEach(s),pt=v(b),j=i(b,"DIV",{class:!0});var Oe=o(j);N=i(Oe,"DIV",{class:!0});var He=o(N);ye=i(He,"DIV",{class:!0}),o(ye).forEach(s),ut=v(He),se=i(He,"SPAN",{class:!0});var jt=o(se);vt=x(jt,"Capacity"),jt.forEach(s),He.forEach(s),ht=v(Oe),U=i(Oe,"DIV",{class:!0});var Je=o(U);ae=i(Je,"P",{});var Et=o(ae);ze=x(Et,ke),mt=x(Et," bytes"),Et.forEach(s),_t=v(Je),$e=i(Je,"P",{});var Nt=o($e);Te=x(Nt,Ee),Nt.forEach(s),Je.forEach(s),Oe.forEach(s),gt=v(b),De=i(b,"DIV",{class:!0});var Wt=o(De);Wt.forEach(s),bt=v(b),q=i(b,"DIV",{class:!0});var Ke=o(q);oe(H.$$.fragment,Ke),wt=v(Ke),oe(J.$$.fragment,Ke),Ke.forEach(s),b.forEach(s),xt=v(m),W=i(m,"DIV",{class:!0});var Me=o(W);oe(K.$$.fragment,Me),yt=v(Me),oe(M.$$.fragment,Me),Me.forEach(s),m.forEach(s),this.h()},h(){n(g,"class","shrink-0 w-[70px]"),h.disabled=!0,n(h,"class","border w-full border-slate-400 outline-none text-[12px] pt-0.5 pl-0.5 pb-2"),h.value=O=d[1].name,n(V,"class","grow ml-2"),n(_,"class","flex flex-row border-b-slate-300 border-b p-2 items-center my-3"),n(P,"class","shrink-0 w-[70px]"),n(k,"class","grow ml-2"),n(E,"class","flex flex-row px-2 my-3 text-[12px] text-slate-800"),n(R,"class","shrink-0 w-[70px]"),n(Y,"class","grow ml-2"),n(C,"class","flex flex-row px-2 pb-2 my-3 text-[12px] text-slate-800 border-b border-slate-300"),n(ve,"class","w-3 h-3 inline-block bg-blue-700 border border-slate-700 mr-1"),n(X,"class","text-[12px]"),n(T,"class","shrink-0 w-[100px]"),n(L,"class","grow ml-2 flex justify-between"),n(z,"class","flex flex-row px-2 my-3 text-[12px] text-slate-800"),n(ge,"class","w-3 h-3 inline-block bg-pink-500 border border-slate-700 mr-1"),n(ee,"class","text-[12px]"),n(A,"class","shrink-0 w-[100px]"),n(B,"class","grow ml-2 flex justify-between"),n(F,"class","flex flex-row px-2 pb-2 my-3 text-[12px] text-slate-800 border-b border-slate-300"),n(ye,"class","w-3 h-3 inline-block mr-1"),n(se,"class","text-[12px]"),n(N,"class","shrink-0 w-[100px]"),n(U,"class","grow ml-2 flex justify-between"),n(j,"class","flex flex-row px-2 pb-2 my-3 text-[12px] text-slate-800"),n(De,"class","chart w-full h-[100px]"),n(q,"class","px-2 my-3 mb-6 text-[12px] text-slate-800"),n(l,"class","w-full grow bg-[#fafaf9] shadow-sm -mt-[1px] overflow-hidden p-2"),n(W,"class","flex flex-row justify-end items-center px-1 pt-2 mt-1"),n(t,"slot","content"),n(t,"class","absolute inset-1 p-2 pb-1 bg-xp-yellow overflow-hidden")},m(c,m){Dt(c,t,m),ne(a,t,null),e(t,p),e(t,l),e(l,_),e(_,g),D.m(g,null),e(_,I),e(_,V),e(V,h),e(l,Q),e(l,E),e(E,P),e(P,pe),e(E,f),e(E,k),e(k,y),e(l,Ye),e(l,C),e(C,R),e(R,Xe),e(C,Ze),e(C,Y),e(Y,Ie),e(l,et),e(l,z),e(z,T),e(T,ve),e(T,tt),e(T,X),e(X,st),e(z,at),e(z,L),e(L,Z),e(Z,Ve),e(Z,lt),e(L,rt),e(L,me),e(me,Se),e(l,it),e(l,F),e(F,A),e(A,ge),e(A,ot),e(A,ee),e(ee,nt),e(F,ct),e(F,B),e(B,te),e(te,Pe),e(te,dt),e(B,ft),e(B,we),e(we,Ce),e(l,pt),e(l,j),e(j,N),e(N,ye),e(N,ut),e(N,se),e(se,vt),e(j,ht),e(j,U),e(U,ae),e(ae,ze),e(ae,mt),e(U,_t),e(U,$e),e($e,Te),e(l,gt),e(l,De),e(l,bt),e(l,q),ne(H,q,null),e(q,wt),ne(J,q,null),e(t,xt),e(t,W),ne(K,W,null),e(W,yt),ne(M,W,null),$=!0},p(c,m){Le===(Le=It(c))&&D?D.p(c,m):(D.d(1),D=Le(c),D&&(D.c(),D.m(g,null))),(!$||m&2&&O!==(O=c[1].name)&&h.value!==O)&&(h.value=O),(!$||m&16)&&S!==(S=c[4].type+"")&&G(y,S),(!$||m&16)&&ue!==(ue=c[4].format+"")&&G(Ie,ue),(!$||m&16)&&he!==(he=(c[4].used_space*1024).toLocaleString()+"")&&G(Ve,he),(!$||m&16)&&_e!==(_e=re(c[4].used_space*1024)+"")&&G(Se,_e),(!$||m&16)&&be!==(be=(c[4].free_space*1024).toLocaleString()+"")&&G(Pe,be),(!$||m&16)&&xe!==(xe=re(c[4].free_space*1024)+"")&&G(Ce,xe),(!$||m&16)&&ke!==(ke=(c[4].capacity*1024).toLocaleString()+"")&&G(ze,ke),(!$||m&16)&&Ee!==(Ee=re(c[4].capacity*1024)+"")&&G(Te,Ee)},i(c){$||(ce(a.$$.fragment,c),ce(H.$$.fragment,c),ce(J.$$.fragment,c),ce(K.$$.fragment,c),ce(M.$$.fragment,c),$=!0)},o(c){de(a.$$.fragment,c),de(H.$$.fragment,c),de(J.$$.fragment,c),de(K.$$.fragment,c),de(M.$$.fragment,c),$=!1},d(c){c&&s(t),fe(a),D.d(),fe(H),fe(J),fe(K),fe(M)}}}function as(d){let t,a,p={options:d[3],on_click_close:d[2],$$slots:{content:[ss]},$$scope:{ctx:d}};return t=new Qt({props:p}),d[8](t),{c(){ie(t.$$.fragment)},l(l){oe(t.$$.fragment,l)},m(l,_){ne(t,l,_),a=!0},p(l,[_]){const g={};_&8&&(g.options=l[3]),_&4114&&(g.$$scope={dirty:_,ctx:l}),t.$set(g)},i(l){a||(ce(t.$$.fragment,l),a=!0)},o(l){de(t.$$.fragment,l),a=!1},d(l){d[8](null),fe(t,l)}}}function ls(d,t,a){let p;Jt(d,Yt,f=>a(9,p=f));let{id:l}=t,{window:_}=t,{self:g}=t,{fs_item:I}=t,{exec_path:V}=t,h={type:I.type=="drive"?"Local Disk":"Removable Storage",format:"FAT32",used_space:E(I.id)};h.used_space>h.capacity?h.capacity=h.used_space:h.capacity=I.capacity,h.free_space=h.capacity-h.used_space,Kt(()=>{console.log(I),P()});function O(){Xt.update(f=>f.filter(k=>k!=g)),g.$destroy()}let{options:Q={title:"Properties",min_width:370,min_height:570,width:370,height:570,icon:null,id:l,resizable:!1,maximize_btn:!1,minimize_btn:!1,exec_path:V}}=t;function E(f){let k=Zt.sum(p[f].children.map(y=>p[y]).filter(y=>y.type=="file").map(y=>y.size)),S=p[f].children.filter(y=>p[y].type=="folder");for(let y of S)k+=E(y);return k}function P(){google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(()=>{var f=google.visualization.arrayToDataTable([["space","size"],["Used space",h.used_space],["Free space",h.free_space]]),k={is3D:!0,enableInteractivity:!1,backgroundColor:"transparent",chartArea:{height:"100%"},pieSliceText:"none",pieSliceBorderColor:"#000",colors:["#1d4ed8","#ec4899"],legend:{position:"none"}},S=new google.visualization.PieChart(document.querySelector(`.window[program-id="${l}"] .chart`));S.draw(f,k)})}function pe(f){Mt[f?"unshift":"push"](()=>{_=f,a(0,_)})}return d.$$set=f=>{"id"in f&&a(5,l=f.id),"window"in f&&a(0,_=f.window),"self"in f&&a(6,g=f.self),"fs_item"in f&&a(1,I=f.fs_item),"exec_path"in f&&a(7,V=f.exec_path),"options"in f&&a(3,Q=f.options)},[_,I,O,Q,h,l,g,V,pe]}class bs extends Gt{constructor(t){super(),Ot(this,t,ls,as,Ht,{id:5,window:0,self:6,fs_item:1,exec_path:7,destroy:2,options:3})}get id(){return this.$$.ctx[5]}set id(t){this.$$set({id:t}),le()}get window(){return this.$$.ctx[0]}set window(t){this.$$set({window:t}),le()}get self(){return this.$$.ctx[6]}set self(t){this.$$set({self:t}),le()}get fs_item(){return this.$$.ctx[1]}set fs_item(t){this.$$set({fs_item:t}),le()}get exec_path(){return this.$$.ctx[7]}set exec_path(t){this.$$set({exec_path:t}),le()}get destroy(){return this.$$.ctx[2]}get options(){return this.$$.ctx[3]}set options(t){this.$$set({options:t}),le()}}export{bs as default};
