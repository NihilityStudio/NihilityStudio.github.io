import{S as K,i as M,P,s as O,w as U,x as X,y as j,f as R,t as F,B,Y as z,o as G,l as g,a as Y,m as w,n as b,c as q,h as d,p as _,b as T,J as u,g as H,d as Q,W as C,r as N,u as S,K as Z,E as J}from"../../../chunks/index-70a5fc52.js";import{W as $}from"../../../chunks/Window-654de68f.js";import{h as tt,r as et,a as st}from"../../../chunks/store-59feb90e.js";import{g as nt}from"../../../chunks/index-355ed6be.js";import{D as it}from"../../../chunks/DumbProgress-0b7ff768.js";import{l as rt}from"../../../chunks/utils-1f7a3290.js";import"../../../chunks/TitleBar-5f961d1e.js";import"../../../chunks/lodash-b0811ec1.js";import"../../../chunks/_commonjsHelpers-cea7ac1a.js";import"../../../chunks/index-f053a494.js";import"../../../chunks/ProgressBar-f6d33f67.js";function L(o){let t,s,a;return s=new it({props:{style:"width:150px;height:15px;"}}),{c(){t=g("div"),U(s.$$.fragment),this.h()},l(e){t=w(e,"DIV",{class:!0});var r=b(t);X(s.$$.fragment,r),r.forEach(d),this.h()},h(){_(t,"class","absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 text-slate-500 text-sm p-2 rounded font-mono")},m(e,r){T(e,t,r),j(s,t,null),a=!0},i(e){a||(R(s.$$.fragment,e),a=!0)},o(e){F(s.$$.fragment,e),a=!1},d(e){e&&d(t),B(s)}}}function ot(o){let t,s,a,e,r,f,l,i,c,h,E,m,A,D,I,W;return{c(){t=g("div"),s=g("p"),a=N(`You can run flash .swf files on this version of Windows XP. Thanks to 
                `),e=g("a"),r=N("Ruffle."),f=Y(),l=g("p"),i=N("Supports for ActionScript 3.0 is limited at the moment."),c=Y(),h=g("p"),E=N(`If you don't have a flash .swf file, checkout out this 
                `),m=g("a"),A=N(`nostalgic archive
                `),D=N("."),this.h()},l(v){t=w(v,"DIV",{class:!0});var p=b(t);s=w(p,"P",{});var n=b(s);a=S(n,`You can run flash .swf files on this version of Windows XP. Thanks to 
                `),e=w(n,"A",{class:!0});var y=b(e);r=S(y,"Ruffle."),y.forEach(d),n.forEach(d),f=q(p),l=w(p,"P",{class:!0});var k=b(l);i=S(k,"Supports for ActionScript 3.0 is limited at the moment."),k.forEach(d),c=q(p),h=w(p,"P",{class:!0});var x=b(h);E=S(x,`If you don't have a flash .swf file, checkout out this 
                `),m=w(x,"A",{class:!0,href:!0,target:!0});var V=b(m);A=S(V,`nostalgic archive
                `),V.forEach(d),D=S(x,"."),x.forEach(d),p.forEach(d),this.h()},h(){_(e,"class","text-blue-600 cursor-pointer"),_(l,"class","mt-2"),_(m,"class","text-blue-600 cursor-pointer"),_(m,"href","https://archive.org/details/softwarelibrary_flash"),_(m,"target","_blank"),_(h,"class","mt-2"),_(t,"class","my-4 p-2 font-Trebuchet")},m(v,p){T(v,t,p),u(t,s),u(s,a),u(s,e),u(e,r),u(t,f),u(t,l),u(l,i),u(t,c),u(t,h),u(h,E),u(h,m),u(m,A),u(h,D),I||(W=Z(e,"click",o[12]),I=!0)},p:J,d(v){v&&d(t),I=!1,W()}}}function lt(o){let t;return{c(){t=g("div"),this.h()},l(s){t=w(s,"DIV",{class:!0}),b(t).forEach(d),this.h()},h(){_(t,"class","absolute inset-0")},m(s,a){T(s,t,a),o[11](t)},p:J,d(s){s&&d(t),o[11](null)}}}function at(o){let t,s,a,e=!o[5]&&L();function r(i,c){return i[1]?lt:ot}let f=r(o),l=f(o);return{c(){t=g("div"),e&&e.c(),s=Y(),l.c(),this.h()},l(i){t=w(i,"DIV",{slot:!0,class:!0});var c=b(t);e&&e.l(c),s=q(c),l.l(c),c.forEach(d),this.h()},h(){_(t,"slot","content"),_(t,"class","absolute inset-1 flex flex-col bg-xp-yellow-light overflow-hidden")},m(i,c){T(i,t,c),e&&e.m(t,null),u(t,s),l.m(t,null),a=!0},p(i,c){i[5]?e&&(H(),F(e,1,1,()=>{e=null}),Q()):e?c&32&&R(e,1):(e=L(),e.c(),R(e,1),e.m(t,s)),f===(f=r(i))&&l?l.p(i,c):(l.d(1),l=f(i),l&&(l.c(),l.m(t,null)))},i(i){a||(R(e),a=!0)},o(i){F(e),a=!1},d(i){i&&d(t),e&&e.d(),l.d()}}}function ct(o){let t,s,a={options:o[3],on_click_close:o[2],$$slots:{content:[at]},$$scope:{ctx:o}};return t=new $({props:a}),o[13](t),{c(){U(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,r){j(t,e,r),s=!0},p(e,[r]){const f={};r&8&&(f.options=e[3]),r&131122&&(f.$$scope={dirty:r,ctx:e}),t.$set(f)},i(e){s||(R(t.$$.fragment,e),s=!0)},o(e){F(t.$$.fragment,e),s=!1},d(e){o[13](null),B(t,e)}}}function ft(o,t,s){let a;z(o,tt,n=>s(15,a=n));let{id:e}=t,{window:r}=t,{self:f}=t,{parentNode:l}=t,{fs_item:i}=t,{exec_path:c}=t,h,E=!1,m;G(async()=>{if(m=rt(),i!=null){const y=m.RufflePlayer.newest().createPlayer();h.appendChild(y),y.setAttribute("style","width:100%;height:100%;");let k=a[i.id],x=null;if(k.storage_type=="remote")x=k.url;else if(k.storage_type=="local"){let V=await nt(k.url);x=URL.createObjectURL(V)}y.load(x)}s(5,E=!0)});async function A(){et.update(n=>n.filter(y=>y!=f)),f.$destroy()}let{options:D={title:i==null?"Flash Player":i.name,min_width:300,min_height:200,width:600,height:400,icon:"/images/xp/icons/FlashPlayer.png",id:e,exec_path:c}}=t;function I(n){console.log(n),st.set({path:"./programs/internet_explorer.svelte",fs_item:{url:n}})}function W(n){C[n?"unshift":"push"](()=>{h=n,s(4,h)})}const v=()=>I("https://ruffle.rs/");function p(n){C[n?"unshift":"push"](()=>{r=n,s(0,r)})}return o.$$set=n=>{"id"in n&&s(7,e=n.id),"window"in n&&s(0,r=n.window),"self"in n&&s(8,f=n.self),"parentNode"in n&&s(9,l=n.parentNode),"fs_item"in n&&s(1,i=n.fs_item),"exec_path"in n&&s(10,c=n.exec_path),"options"in n&&s(3,D=n.options)},o.$$.update=()=>{o.$$.dirty&3&&i&&r&&r.update_title(i.name)},[r,i,A,D,h,E,I,e,f,l,c,W,v,p]}class vt extends K{constructor(t){super(),M(this,t,ft,ct,O,{id:7,window:0,self:8,parentNode:9,fs_item:1,exec_path:10,destroy:2,options:3})}get id(){return this.$$.ctx[7]}set id(t){this.$$set({id:t}),P()}get window(){return this.$$.ctx[0]}set window(t){this.$$set({window:t}),P()}get self(){return this.$$.ctx[8]}set self(t){this.$$set({self:t}),P()}get parentNode(){return this.$$.ctx[9]}set parentNode(t){this.$$set({parentNode:t}),P()}get fs_item(){return this.$$.ctx[1]}set fs_item(t){this.$$set({fs_item:t}),P()}get exec_path(){return this.$$.ctx[10]}set exec_path(t){this.$$set({exec_path:t}),P()}get destroy(){return this.$$.ctx[2]}get options(){return this.$$.ctx[3]}set options(t){this.$$set({options:t}),P()}}export{vt as default};
